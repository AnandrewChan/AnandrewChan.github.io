<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Personnal blogs">
<meta name="keywords" content="Personal Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Andrew Chan">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="Andrew Chan">
<meta property="og:description" content="Personnal blogs">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Andrew Chan">
<meta name="twitter:description" content="Personnal blogs">






  <link rel="canonical" href="http://yoursite.com/page/3/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Andrew Chan</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Andrew Chan</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Once Upon A Time, There Is An Andrew Chan.</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/47_MaxValueOfGifts/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/47_MaxValueOfGifts/" class="post-title-link" itemprop="url">剑指_47_MaxValueOfGifts</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:18:34" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题47：礼物的最大价值</span><br><span class="line">// 题目：在一个m×n的棋盘的每一格都放有一个礼物，每个礼物都有一定的价值</span><br><span class="line">// （价值大于0）。你可以从棋盘的左上角开始拿格子里的礼物，并每次向左或</span><br><span class="line">// 者向下移动一格直到到达棋盘的右下角。给定一个棋盘及其上面的礼物，请计</span><br><span class="line">// 算你最多能拿到多少价值的礼物？</span><br><span class="line"></span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line"></span><br><span class="line">int getMaxValue_solution1(const int* values, int rows, int cols)</span><br><span class="line">&#123;</span><br><span class="line">    if (values == nullptr || rows &lt;= 0 || cols &lt;= 0)</span><br><span class="line">        return 0;</span><br><span class="line"></span><br><span class="line">    int** maxValues = new int*[rows];</span><br><span class="line">    for (int i = 0; i &lt; rows; ++i)</span><br><span class="line">        maxValues[i] = new int[cols];</span><br><span class="line"></span><br><span class="line">    for (int i = 0; i &lt; rows; ++i) &#123;</span><br><span class="line">        for (int j = 0; j &lt; cols; ++j) &#123;</span><br><span class="line">            int left = 0;</span><br><span class="line">            int up = 0;</span><br><span class="line"></span><br><span class="line">            if (i &gt; 0)</span><br><span class="line">                up = maxValues[i - 1][j];</span><br><span class="line"></span><br><span class="line">            if (j &gt; 0)</span><br><span class="line">                left = maxValues[i][j - 1];</span><br><span class="line"></span><br><span class="line">            maxValues[i][j] = std::max(left, up) + values[i * cols + j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int maxValue = maxValues[rows - 1][cols - 1];</span><br><span class="line"></span><br><span class="line">    for (int i = 0; i &lt; rows; ++i)</span><br><span class="line">        delete[] maxValues[i];</span><br><span class="line">    delete[] maxValues;</span><br><span class="line"></span><br><span class="line">    return maxValue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int getMaxValue_solution2(const int* values, int rows, int cols)</span><br><span class="line">&#123;</span><br><span class="line">    if (values == nullptr || rows &lt;= 0 || cols &lt;= 0)</span><br><span class="line">        return 0;</span><br><span class="line"></span><br><span class="line">    int* maxValues = new int[cols];</span><br><span class="line">    for (int i = 0; i &lt; rows; ++i) &#123;</span><br><span class="line">        for (int j = 0; j &lt; cols; ++j) &#123;</span><br><span class="line">            int left = 0;</span><br><span class="line">            int up = 0;</span><br><span class="line"></span><br><span class="line">            if (i &gt; 0)</span><br><span class="line">                up = maxValues[j];</span><br><span class="line"></span><br><span class="line">            if (j &gt; 0)</span><br><span class="line">                left = maxValues[j - 1];</span><br><span class="line"></span><br><span class="line">            maxValues[j] = std::max(left, up) + values[i * cols + j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int maxValue = maxValues[cols - 1];</span><br><span class="line"></span><br><span class="line">    delete[] maxValues;</span><br><span class="line"></span><br><span class="line">    return maxValue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void test(const char* testName, const int* values, int rows, int cols, int expected)</span><br><span class="line">&#123;</span><br><span class="line">    if (getMaxValue_solution1(values, rows, cols) == expected)</span><br><span class="line">        std::cout &lt;&lt; testName &lt;&lt; &quot;: solution1 passed.&quot; &lt;&lt; std::endl;</span><br><span class="line">    else</span><br><span class="line">        std::cout &lt;&lt; testName &lt;&lt; &quot;: solution1 FAILED.&quot; &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    if (getMaxValue_solution2(values, rows, cols) == expected)</span><br><span class="line">        std::cout &lt;&lt; testName &lt;&lt; &quot;: solution2 passed.&quot; &lt;&lt; std::endl;</span><br><span class="line">    else</span><br><span class="line">        std::cout &lt;&lt; testName &lt;&lt; &quot;: solution2 FAILED.&quot; &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test1()</span><br><span class="line">&#123;</span><br><span class="line">    // 三行三列</span><br><span class="line">    int values[][3] = &#123;</span><br><span class="line">        &#123; 1, 2, 3 &#125;,</span><br><span class="line">        &#123; 4, 5, 6 &#125;,</span><br><span class="line">        &#123; 7, 8, 9 &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    int expected = 29;</span><br><span class="line">    test(&quot;test1&quot;, (const int*)values, 3, 3, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test2()</span><br><span class="line">&#123;</span><br><span class="line">    //四行四列</span><br><span class="line">    int values[][4] = &#123;</span><br><span class="line">        &#123; 1, 10, 3, 8 &#125;,</span><br><span class="line">        &#123; 12, 2, 9, 6 &#125;,</span><br><span class="line">        &#123; 5, 7, 4, 11 &#125;,</span><br><span class="line">        &#123; 3, 7, 16, 5 &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    int expected = 53;</span><br><span class="line">    test(&quot;test2&quot;, (const int*)values, 4, 4, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test3()</span><br><span class="line">&#123;</span><br><span class="line">    // 一行四列</span><br><span class="line">    int values[][4] = &#123;</span><br><span class="line">        &#123; 1, 10, 3, 8 &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    int expected = 22;</span><br><span class="line">    test(&quot;test3&quot;, (const int*)values, 1, 4, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test4()</span><br><span class="line">&#123;</span><br><span class="line">    int values[4][1] = &#123;</span><br><span class="line">        &#123; 1 &#125;,</span><br><span class="line">        &#123; 12 &#125;,</span><br><span class="line">        &#123; 5 &#125;,</span><br><span class="line">        &#123; 3 &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    int expected = 21;</span><br><span class="line">    test(&quot;test4&quot;, (const int*)values, 4, 1, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test5()</span><br><span class="line">&#123;</span><br><span class="line">    // 一行一列</span><br><span class="line">    int values[][1] = &#123;</span><br><span class="line">        &#123; 3 &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    int expected = 3;</span><br><span class="line">    test(&quot;test5&quot;, (const int*)values, 1, 1, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test6()</span><br><span class="line">&#123;</span><br><span class="line">    // 空指针</span><br><span class="line">    int expected = 0;</span><br><span class="line">    test(&quot;test6&quot;, nullptr, 0, 0, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    test1();</span><br><span class="line">    test2();</span><br><span class="line">    test3();</span><br><span class="line">    test4();</span><br><span class="line">    test5();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/14_CuttingRope/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/14_CuttingRope/" class="post-title-link" itemprop="url">剑指_14_CuttingRope</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:14:26" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br></pre></td><td class="code"><pre><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题14：剪绳子</span><br><span class="line">// 题目：给你一根长度为n绳子，请把绳子剪成m段（m、n都是整数，n&gt;1并且m≥1）。</span><br><span class="line">// 每段的绳子的长度记为k[0]、k[1]、……、k[m]。k[0]*k[1]*…*k[m]可能的最大乘</span><br><span class="line">// 积是多少？例如当绳子的长度是8时，我们把它剪成长度分别为2、3、3的三段，此</span><br><span class="line">// 时得到最大的乘积18。</span><br><span class="line"></span><br><span class="line">#include &lt;cmath&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line"></span><br><span class="line">// ====================动态规划====================</span><br><span class="line">int maxProductAfterCutting_solution1(int length)</span><br><span class="line">&#123;</span><br><span class="line">    if (length &lt; 2)</span><br><span class="line">        return 0;</span><br><span class="line">    if (length == 2)</span><br><span class="line">        return 1;</span><br><span class="line">    if (length == 3)</span><br><span class="line">        return 2;</span><br><span class="line"></span><br><span class="line">    int* products = new int[length + 1];</span><br><span class="line">    products[0] = 0;</span><br><span class="line">    products[1] = 1;</span><br><span class="line">    products[2] = 2;</span><br><span class="line">    products[3] = 3;</span><br><span class="line"></span><br><span class="line">    int max = 0;</span><br><span class="line">    for (int i = 4; i &lt;= length; ++i) &#123;</span><br><span class="line">        max = 0;</span><br><span class="line">        for (int j = 1; j &lt;= i / 2; ++j) &#123;</span><br><span class="line">            int product = products[j] * products[i - j];</span><br><span class="line">            if (max &lt; product)</span><br><span class="line">                max = product;</span><br><span class="line"></span><br><span class="line">            products[i] = max;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    max = products[length];</span><br><span class="line">    delete[] products;</span><br><span class="line"></span><br><span class="line">    return max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================贪婪算法====================</span><br><span class="line">int maxProductAfterCutting_solution2(int length)</span><br><span class="line">&#123;</span><br><span class="line">    if (length &lt; 2)</span><br><span class="line">        return 0;</span><br><span class="line">    if (length == 2)</span><br><span class="line">        return 1;</span><br><span class="line">    if (length == 3)</span><br><span class="line">        return 2;</span><br><span class="line"></span><br><span class="line">    // 尽可能多地减去长度为3的绳子段</span><br><span class="line">    int timesOf3 = length / 3;</span><br><span class="line"></span><br><span class="line">    // 当绳子最后剩下的长度为4的时候，不能再剪去长度为3的绳子段。</span><br><span class="line">    // 此时更好的方法是把绳子剪成长度为2的两段，因为2*2 &gt; 3*1。</span><br><span class="line">    if (length - timesOf3 * 3 == 1)</span><br><span class="line">        timesOf3 -= 1;</span><br><span class="line"></span><br><span class="line">    int timesOf2 = (length - timesOf3 * 3) / 2;</span><br><span class="line"></span><br><span class="line">    return (int)(pow(3, timesOf3)) * (int)(pow(2, timesOf2));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void test(const char* testName, int length, int expected)</span><br><span class="line">&#123;</span><br><span class="line">    int result1 = maxProductAfterCutting_solution1(length);</span><br><span class="line">    if (result1 == expected)</span><br><span class="line">        std::cout &lt;&lt; &quot;Solution1 for &quot; &lt;&lt; testName &lt;&lt; &quot; passed.&quot; &lt;&lt; std::endl;</span><br><span class="line">    else</span><br><span class="line">        std::cout &lt;&lt; &quot;Solution1 for &quot; &lt;&lt; testName &lt;&lt; &quot; FAILED.&quot; &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    int result2 = maxProductAfterCutting_solution2(length);</span><br><span class="line">    if (result2 == expected)</span><br><span class="line">        std::cout &lt;&lt; &quot;Solution2 for &quot; &lt;&lt; testName &lt;&lt; &quot; passed.&quot; &lt;&lt; std::endl;</span><br><span class="line">    else</span><br><span class="line">        std::cout &lt;&lt; &quot;Solution2 for &quot; &lt;&lt; testName &lt;&lt; &quot; FAILED.&quot; &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test1()</span><br><span class="line">&#123;</span><br><span class="line">    int length = 1;</span><br><span class="line">    int expected = 0;</span><br><span class="line">    test(&quot;test1&quot;, length, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test2()</span><br><span class="line">&#123;</span><br><span class="line">    int length = 2;</span><br><span class="line">    int expected = 1;</span><br><span class="line">    test(&quot;test2&quot;, length, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test3()</span><br><span class="line">&#123;</span><br><span class="line">    int length = 3;</span><br><span class="line">    int expected = 2;</span><br><span class="line">    test(&quot;test3&quot;, length, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test4()</span><br><span class="line">&#123;</span><br><span class="line">    int length = 4;</span><br><span class="line">    int expected = 4;</span><br><span class="line">    test(&quot;test4&quot;, length, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test5()</span><br><span class="line">&#123;</span><br><span class="line">    int length = 5;</span><br><span class="line">    int expected = 6;</span><br><span class="line">    test(&quot;test5&quot;, length, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test6()</span><br><span class="line">&#123;</span><br><span class="line">    int length = 6;</span><br><span class="line">    int expected = 9;</span><br><span class="line">    test(&quot;test6&quot;, length, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test7()</span><br><span class="line">&#123;</span><br><span class="line">    int length = 7;</span><br><span class="line">    int expected = 12;</span><br><span class="line">    test(&quot;test7&quot;, length, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test8()</span><br><span class="line">&#123;</span><br><span class="line">    int length = 8;</span><br><span class="line">    int expected = 18;</span><br><span class="line">    test(&quot;test8&quot;, length, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test9()</span><br><span class="line">&#123;</span><br><span class="line">    int length = 9;</span><br><span class="line">    int expected = 27;</span><br><span class="line">    test(&quot;test9&quot;, length, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test10()</span><br><span class="line">&#123;</span><br><span class="line">    int length = 10;</span><br><span class="line">    int expected = 36;</span><br><span class="line">    test(&quot;test10&quot;, length, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void test11()</span><br><span class="line">&#123;</span><br><span class="line">    int length = 50;</span><br><span class="line">    int expected = 86093442;</span><br><span class="line">    test(&quot;test11&quot;, length, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int agrc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    test1();</span><br><span class="line">    test2();</span><br><span class="line">    test3();</span><br><span class="line">    test4();</span><br><span class="line">    test5();</span><br><span class="line">    test6();</span><br><span class="line">    test7();</span><br><span class="line">    test8();</span><br><span class="line">    test9();</span><br><span class="line">    test10();</span><br><span class="line">    test11();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/4_FindInPartiallySortedMatrix/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/4_FindInPartiallySortedMatrix/" class="post-title-link" itemprop="url">剑指_4_FindInPartiallySortedMatrix</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:37:26" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h4 id="面试题4：二维数组中的查找"><a href="#面试题4：二维数组中的查找" class="headerlink" title="面试题4：二维数组中的查找"></a>面试题4：二维数组中的查找</h4><hr>
<p>题目：在一个二维数组中，每一行都按照从左到右递增的顺序排序，每一列都按照从上到下递增的顺序排序。请完成一个函数，输入这样的一个二维数组和一个整数，判断数组中是否含有该整数。<br>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/03/18/4_FindInPartiallySortedMatrix/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </p></div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/49_UglyNumber/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/49_UglyNumber/" class="post-title-link" itemprop="url">剑指_49_UglyNumber</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:18:25" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题49：丑数</span><br><span class="line">// 题目：我们把只包含因子2、3和5的数称作丑数（Ugly Number）。求按从小到</span><br><span class="line">// 大的顺序的第1500个丑数。例如6、8都是丑数，但14不是，因为它包含因子7。</span><br><span class="line">// 习惯上我们把1当做第一个丑数。</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line"></span><br><span class="line">// ====================算法1的代码====================</span><br><span class="line">bool IsUgly(int number)</span><br><span class="line">&#123;</span><br><span class="line">    while (number % 2 == 0)</span><br><span class="line">        number /= 2;</span><br><span class="line">    while (number % 3 == 0)</span><br><span class="line">        number /= 3;</span><br><span class="line">    while (number % 5 == 0)</span><br><span class="line">        number /= 5;</span><br><span class="line"></span><br><span class="line">    return (number == 1) ? true : false;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int GetUglyNumber_Solution1(int index)</span><br><span class="line">&#123;</span><br><span class="line">    if (index &lt;= 0)</span><br><span class="line">        return 0;</span><br><span class="line"></span><br><span class="line">    int number = 0;</span><br><span class="line">    int uglyFound = 0;</span><br><span class="line">    while (uglyFound &lt; index) &#123;</span><br><span class="line">        ++number;</span><br><span class="line"></span><br><span class="line">        if (IsUgly(number))</span><br><span class="line">            ++uglyFound;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================算法2的代码====================</span><br><span class="line">int Min(int number1, int number2, int number3);</span><br><span class="line"></span><br><span class="line">int GetUglyNumber_Solution2(int index)</span><br><span class="line">&#123;</span><br><span class="line">    if (index &lt;= 0)</span><br><span class="line">        return 0;</span><br><span class="line"></span><br><span class="line">    int* pUglyNumbers = new int[index];</span><br><span class="line">    pUglyNumbers[0] = 1;</span><br><span class="line">    int nextUglyIndex = 1;</span><br><span class="line"></span><br><span class="line">    int* pMultiply2 = pUglyNumbers;</span><br><span class="line">    int* pMultiply3 = pUglyNumbers;</span><br><span class="line">    int* pMultiply5 = pUglyNumbers;</span><br><span class="line"></span><br><span class="line">    while (nextUglyIndex &lt; index) &#123;</span><br><span class="line">        int min = Min(*pMultiply2 * 2, *pMultiply3 * 3, *pMultiply5 * 5);</span><br><span class="line">        pUglyNumbers[nextUglyIndex] = min;</span><br><span class="line"></span><br><span class="line">        while (*pMultiply2 * 2 &lt;= pUglyNumbers[nextUglyIndex])</span><br><span class="line">            ++pMultiply2;</span><br><span class="line">        while (*pMultiply3 * 3 &lt;= pUglyNumbers[nextUglyIndex])</span><br><span class="line">            ++pMultiply3;</span><br><span class="line">        while (*pMultiply5 * 5 &lt;= pUglyNumbers[nextUglyIndex])</span><br><span class="line">            ++pMultiply5;</span><br><span class="line"></span><br><span class="line">        ++nextUglyIndex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int ugly = pUglyNumbers[nextUglyIndex - 1];</span><br><span class="line">    delete[] pUglyNumbers;</span><br><span class="line">    return ugly;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int Min(int number1, int number2, int number3)</span><br><span class="line">&#123;</span><br><span class="line">    int min = (number1 &lt; number2) ? number1 : number2;</span><br><span class="line">    min = (min &lt; number3) ? min : number3;</span><br><span class="line"></span><br><span class="line">    return min;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void Test(int index, int expected)</span><br><span class="line">&#123;</span><br><span class="line">    if (GetUglyNumber_Solution1(index) == expected)</span><br><span class="line">        printf(&quot;solution1 passed\n&quot;);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;solution1 failed\n&quot;);</span><br><span class="line"></span><br><span class="line">    if (GetUglyNumber_Solution2(index) == expected)</span><br><span class="line">        printf(&quot;solution2 passed\n&quot;);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;solution2 failed\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    Test(1, 1);</span><br><span class="line"></span><br><span class="line">    Test(2, 2);</span><br><span class="line">    Test(3, 3);</span><br><span class="line">    Test(4, 4);</span><br><span class="line">    Test(5, 5);</span><br><span class="line">    Test(6, 6);</span><br><span class="line">    Test(7, 8);</span><br><span class="line">    Test(8, 9);</span><br><span class="line">    Test(9, 10);</span><br><span class="line">    Test(10, 12);</span><br><span class="line">    Test(11, 15);</span><br><span class="line"></span><br><span class="line">    Test(1500, 859963392);</span><br><span class="line"></span><br><span class="line">    Test(0, 0);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/50_FirstCharacterInStream/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/50_FirstCharacterInStream/" class="post-title-link" itemprop="url">剑指_50_FirstCharacterInStream</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:18:21" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题50（二）：字符流中第一个只出现一次的字符</span><br><span class="line">// 题目：请实现一个函数用来找出字符流中第一个只出现一次的字符。例如，当从</span><br><span class="line">// 字符流中只读出前两个字符&quot;go&quot;时，第一个只出现一次的字符是&apos;g&apos;。当从该字</span><br><span class="line">// 符流中读出前六个字符&quot;google&quot;时，第一个只出现一次的字符是&apos;l&apos;。</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;limits&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">class CharStatistics &#123;</span><br><span class="line">public:</span><br><span class="line">    CharStatistics()</span><br><span class="line">        : index(0)</span><br><span class="line">    &#123;</span><br><span class="line">        for (int i = 0; i &lt; 256; ++i)</span><br><span class="line">            occurrence[i] = -1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void Insert(char ch)</span><br><span class="line">    &#123;</span><br><span class="line">        if (occurrence[ch] == -1)</span><br><span class="line">            occurrence[ch] = index;</span><br><span class="line">        else if (occurrence[ch] &gt;= 0)</span><br><span class="line">            occurrence[ch] = -2;</span><br><span class="line"></span><br><span class="line">        index++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    char FirstAppearingOnce()</span><br><span class="line">    &#123;</span><br><span class="line">        char ch = &apos;\0&apos;;</span><br><span class="line">        int minIndex = numeric_limits&lt;int&gt;::max();</span><br><span class="line">        for (int i = 0; i &lt; 256; ++i) &#123;</span><br><span class="line">            if (occurrence[i] &gt;= 0 &amp;&amp; occurrence[i] &lt; minIndex) &#123;</span><br><span class="line">                ch = (char)i;</span><br><span class="line">                minIndex = occurrence[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return ch;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">private:</span><br><span class="line">    // occurrence[i]: A character with ASCII value i;</span><br><span class="line">    // occurrence[i] = -1: The character has not found;</span><br><span class="line">    // occurrence[i] = -2: The character has been found for mutlple times</span><br><span class="line">    // occurrence[i] &gt;= 0: The character has been found only once</span><br><span class="line">    int occurrence[256];</span><br><span class="line">    int index;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void Test(const char* testName, CharStatistics chars, char expected)</span><br><span class="line">&#123;</span><br><span class="line">    if (testName != nullptr)</span><br><span class="line">        printf(&quot;%s begins: &quot;, testName);</span><br><span class="line"></span><br><span class="line">    if (chars.FirstAppearingOnce() == expected)</span><br><span class="line">        printf(&quot;Passed.\n&quot;);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;FAILED.\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    CharStatistics chars;</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test1&quot;, chars, &apos;\0&apos;);</span><br><span class="line"></span><br><span class="line">    chars.Insert(&apos;g&apos;);</span><br><span class="line">    Test(&quot;Test2&quot;, chars, &apos;g&apos;);</span><br><span class="line"></span><br><span class="line">    chars.Insert(&apos;o&apos;);</span><br><span class="line">    Test(&quot;Test3&quot;, chars, &apos;g&apos;);</span><br><span class="line"></span><br><span class="line">    chars.Insert(&apos;o&apos;);</span><br><span class="line">    Test(&quot;Test4&quot;, chars, &apos;g&apos;);</span><br><span class="line"></span><br><span class="line">    chars.Insert(&apos;g&apos;);</span><br><span class="line">    Test(&quot;Test5&quot;, chars, &apos;\0&apos;);</span><br><span class="line"></span><br><span class="line">    chars.Insert(&apos;l&apos;);</span><br><span class="line">    Test(&quot;Test6&quot;, chars, &apos;l&apos;);</span><br><span class="line"></span><br><span class="line">    chars.Insert(&apos;e&apos;);</span><br><span class="line">    Test(&quot;Test7&quot;, chars, &apos;l&apos;);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/51_InversePairs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/51_InversePairs/" class="post-title-link" itemprop="url">剑指_51_InversePairs</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:18:12" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题51：数组中的逆序对</span><br><span class="line">// 题目：在数组中的两个数字如果前面一个数字大于后面的数字，则这两个数字组</span><br><span class="line">// 成一个逆序对。输入一个数组，求出这个数组中的逆序对的总数。</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line"></span><br><span class="line">int InversePairsCore(int* data, int* copy, int start, int end);</span><br><span class="line"></span><br><span class="line">int InversePairs(int* data, int length)</span><br><span class="line">&#123;</span><br><span class="line">    if (data == nullptr || length &lt; 0)</span><br><span class="line">        return 0;</span><br><span class="line"></span><br><span class="line">    int* copy = new int[length];</span><br><span class="line">    for (int i = 0; i &lt; length; ++i)</span><br><span class="line">        copy[i] = data[i];</span><br><span class="line"></span><br><span class="line">    int count = InversePairsCore(data, copy, 0, length - 1);</span><br><span class="line">    delete[] copy;</span><br><span class="line"></span><br><span class="line">    return count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int InversePairsCore(int* data, int* copy, int start, int end)</span><br><span class="line">&#123;</span><br><span class="line">    if (start == end) &#123;</span><br><span class="line">        copy[start] = data[start];</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int length = (end - start) / 2;</span><br><span class="line"></span><br><span class="line">    int left = InversePairsCore(copy, data, start, start + length);</span><br><span class="line">    int right = InversePairsCore(copy, data, start + length + 1, end);</span><br><span class="line"></span><br><span class="line">    // i初始化为前半段最后一个数字的下标</span><br><span class="line">    int i = start + length;</span><br><span class="line">    // j初始化为后半段最后一个数字的下标</span><br><span class="line">    int j = end;</span><br><span class="line">    int indexCopy = end;</span><br><span class="line">    int count = 0;</span><br><span class="line">    while (i &gt;= start &amp;&amp; j &gt;= start + length + 1) &#123;</span><br><span class="line">        if (data[i] &gt; data[j]) &#123;</span><br><span class="line">            copy[indexCopy--] = data[i--];</span><br><span class="line">            count += j - start - length;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            copy[indexCopy--] = data[j--];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for (; i &gt;= start; --i)</span><br><span class="line">        copy[indexCopy--] = data[i];</span><br><span class="line"></span><br><span class="line">    for (; j &gt;= start + length + 1; --j)</span><br><span class="line">        copy[indexCopy--] = data[j];</span><br><span class="line"></span><br><span class="line">    return left + right + count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void Test(char* testName, int* data, int length, int expected)</span><br><span class="line">&#123;</span><br><span class="line">    if (testName != nullptr)</span><br><span class="line">        printf(&quot;%s begins: &quot;, testName);</span><br><span class="line"></span><br><span class="line">    if (InversePairs(data, length) == expected)</span><br><span class="line">        printf(&quot;Passed.\n&quot;);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;Failed.\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void Test1()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 1, 2, 3, 4, 7, 6, 5 &#125;;</span><br><span class="line">    int expected = 3;</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test1&quot;, data, sizeof(data) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 递减排序数组</span><br><span class="line">void Test2()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 6, 5, 4, 3, 2, 1 &#125;;</span><br><span class="line">    int expected = 15;</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test2&quot;, data, sizeof(data) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 递增排序数组</span><br><span class="line">void Test3()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 1, 2, 3, 4, 5, 6 &#125;;</span><br><span class="line">    int expected = 0;</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test3&quot;, data, sizeof(data) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 数组中只有一个数字</span><br><span class="line">void Test4()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 1 &#125;;</span><br><span class="line">    int expected = 0;</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test4&quot;, data, sizeof(data) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 数组中只有两个数字，递增排序</span><br><span class="line">void Test5()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 1, 2 &#125;;</span><br><span class="line">    int expected = 0;</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test5&quot;, data, sizeof(data) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 数组中只有两个数字，递减排序</span><br><span class="line">void Test6()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 2, 1 &#125;;</span><br><span class="line">    int expected = 1;</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test6&quot;, data, sizeof(data) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 数组中有相等的数字</span><br><span class="line">void Test7()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 1, 2, 1, 2, 1 &#125;;</span><br><span class="line">    int expected = 3;</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test7&quot;, data, sizeof(data) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void Test8()</span><br><span class="line">&#123;</span><br><span class="line">    int expected = 0;</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test8&quot;, nullptr, 0, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    Test1();</span><br><span class="line">    Test2();</span><br><span class="line">    Test3();</span><br><span class="line">    Test4();</span><br><span class="line">    Test5();</span><br><span class="line">    Test6();</span><br><span class="line">    Test7();</span><br><span class="line">    Test8();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/50_FirstNotRepeatingChar/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/50_FirstNotRepeatingChar/" class="post-title-link" itemprop="url">剑指_50_FirstNotRepeatingChar</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:18:17" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题50（一）：字符串中第一个只出现一次的字符</span><br><span class="line">// 题目：在字符串中找出第一个只出现一次的字符。如输入&quot;abaccdeff&quot;，则输出</span><br><span class="line">// &apos;b&apos;。</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line"></span><br><span class="line">char FirstNotRepeatingChar(const char* pString)</span><br><span class="line">&#123;</span><br><span class="line">    if (pString == nullptr)</span><br><span class="line">        return &apos;\0&apos;;</span><br><span class="line"></span><br><span class="line">    const int tableSize = 256;</span><br><span class="line">    unsigned int hashTable[tableSize];</span><br><span class="line">    for (unsigned int i = 0; i &lt; tableSize; ++i)</span><br><span class="line">        hashTable[i] = 0;</span><br><span class="line"></span><br><span class="line">    const char* pHashKey = pString;</span><br><span class="line">    while (*(pHashKey) != &apos;\0&apos;)</span><br><span class="line">        hashTable[*(pHashKey++)]++;</span><br><span class="line"></span><br><span class="line">    pHashKey = pString;</span><br><span class="line">    while (*pHashKey != &apos;\0&apos;) &#123;</span><br><span class="line">        if (hashTable[*pHashKey] == 1)</span><br><span class="line">            return *pHashKey;</span><br><span class="line"></span><br><span class="line">        pHashKey++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return &apos;\0&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void Test(const char* pString, char expected)</span><br><span class="line">&#123;</span><br><span class="line">    if (FirstNotRepeatingChar(pString) == expected)</span><br><span class="line">        printf(&quot;Test passed.\n&quot;);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;Test failed.\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    // 常规输入测试，存在只出现一次的字符</span><br><span class="line">    Test(&quot;google&quot;, &apos;l&apos;);</span><br><span class="line"></span><br><span class="line">    // 常规输入测试，不存在只出现一次的字符</span><br><span class="line">    Test(&quot;aabccdbd&quot;, &apos;\0&apos;);</span><br><span class="line"></span><br><span class="line">    // 常规输入测试，所有字符都只出现一次</span><br><span class="line">    Test(&quot;abcdefg&quot;, &apos;a&apos;);</span><br><span class="line"></span><br><span class="line">    // 鲁棒性测试，输入nullptr</span><br><span class="line">    Test(nullptr, &apos;\0&apos;);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/52_FirstCommonNodesInLists/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/52_FirstCommonNodesInLists/" class="post-title-link" itemprop="url">剑指_52_FirstCommonNodesInLists</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:17:47" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题52：两个链表的第一个公共结点</span><br><span class="line">// 题目：输入两个链表，找出它们的第一个公共结点。</span><br><span class="line"></span><br><span class="line">#include &quot;..\Utilities\List.h&quot;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line"></span><br><span class="line">unsigned int GetListLength(ListNode* pHead);</span><br><span class="line"></span><br><span class="line">ListNode* FindFirstCommonNode(ListNode* pHead1, ListNode* pHead2)</span><br><span class="line">&#123;</span><br><span class="line">    // 得到两个链表的长度</span><br><span class="line">    unsigned int nLength1 = GetListLength(pHead1);</span><br><span class="line">    unsigned int nLength2 = GetListLength(pHead2);</span><br><span class="line">    int nLengthDif = nLength1 - nLength2;</span><br><span class="line"></span><br><span class="line">    ListNode* pListHeadLong = pHead1;</span><br><span class="line">    ListNode* pListHeadShort = pHead2;</span><br><span class="line">    if (nLength2 &gt; nLength1) &#123;</span><br><span class="line">        pListHeadLong = pHead2;</span><br><span class="line">        pListHeadShort = pHead1;</span><br><span class="line">        nLengthDif = nLength2 - nLength1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 先在长链表上走几步，再同时在两个链表上遍历</span><br><span class="line">    for (int i = 0; i &lt; nLengthDif; ++i)</span><br><span class="line">        pListHeadLong = pListHeadLong-&gt;m_pNext;</span><br><span class="line"></span><br><span class="line">    while ((pListHeadLong != nullptr) &amp;&amp; (pListHeadShort != nullptr) &amp;&amp; (pListHeadLong != pListHeadShort)) &#123;</span><br><span class="line">        pListHeadLong = pListHeadLong-&gt;m_pNext;</span><br><span class="line">        pListHeadShort = pListHeadShort-&gt;m_pNext;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 得到第一个公共结点</span><br><span class="line">    ListNode* pFisrtCommonNode = pListHeadLong;</span><br><span class="line"></span><br><span class="line">    return pFisrtCommonNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">unsigned int GetListLength(ListNode* pHead)</span><br><span class="line">&#123;</span><br><span class="line">    unsigned int nLength = 0;</span><br><span class="line">    ListNode* pNode = pHead;</span><br><span class="line">    while (pNode != nullptr) &#123;</span><br><span class="line">        ++nLength;</span><br><span class="line">        pNode = pNode-&gt;m_pNext;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return nLength;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void DestroyNode(ListNode* pNode);</span><br><span class="line"></span><br><span class="line">void Test(char* testName, ListNode* pHead1, ListNode* pHead2, ListNode* pExpected)</span><br><span class="line">&#123;</span><br><span class="line">    if (testName != nullptr)</span><br><span class="line">        printf(&quot;%s begins: &quot;, testName);</span><br><span class="line"></span><br><span class="line">    ListNode* pResult = FindFirstCommonNode(pHead1, pHead2);</span><br><span class="line">    if (pResult == pExpected)</span><br><span class="line">        printf(&quot;Passed.\n&quot;);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;Failed.\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 第一个公共结点在链表中间</span><br><span class="line">// 1 - 2 - 3 \</span><br><span class="line">//            6 - 7</span><br><span class="line">//     4 - 5 /</span><br><span class="line">void Test1()</span><br><span class="line">&#123;</span><br><span class="line">    ListNode* pNode1 = CreateListNode(1);</span><br><span class="line">    ListNode* pNode2 = CreateListNode(2);</span><br><span class="line">    ListNode* pNode3 = CreateListNode(3);</span><br><span class="line">    ListNode* pNode4 = CreateListNode(4);</span><br><span class="line">    ListNode* pNode5 = CreateListNode(5);</span><br><span class="line">    ListNode* pNode6 = CreateListNode(6);</span><br><span class="line">    ListNode* pNode7 = CreateListNode(7);</span><br><span class="line"></span><br><span class="line">    ConnectListNodes(pNode1, pNode2);</span><br><span class="line">    ConnectListNodes(pNode2, pNode3);</span><br><span class="line">    ConnectListNodes(pNode3, pNode6);</span><br><span class="line">    ConnectListNodes(pNode4, pNode5);</span><br><span class="line">    ConnectListNodes(pNode5, pNode6);</span><br><span class="line">    ConnectListNodes(pNode6, pNode7);</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test1&quot;, pNode1, pNode4, pNode6);</span><br><span class="line"></span><br><span class="line">    DestroyNode(pNode1);</span><br><span class="line">    DestroyNode(pNode2);</span><br><span class="line">    DestroyNode(pNode3);</span><br><span class="line">    DestroyNode(pNode4);</span><br><span class="line">    DestroyNode(pNode5);</span><br><span class="line">    DestroyNode(pNode6);</span><br><span class="line">    DestroyNode(pNode7);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 没有公共结点</span><br><span class="line">// 1 - 2 - 3 - 4</span><br><span class="line">//</span><br><span class="line">// 5 - 6 - 7</span><br><span class="line">void Test2()</span><br><span class="line">&#123;</span><br><span class="line">    ListNode* pNode1 = CreateListNode(1);</span><br><span class="line">    ListNode* pNode2 = CreateListNode(2);</span><br><span class="line">    ListNode* pNode3 = CreateListNode(3);</span><br><span class="line">    ListNode* pNode4 = CreateListNode(4);</span><br><span class="line">    ListNode* pNode5 = CreateListNode(5);</span><br><span class="line">    ListNode* pNode6 = CreateListNode(6);</span><br><span class="line">    ListNode* pNode7 = CreateListNode(7);</span><br><span class="line"></span><br><span class="line">    ConnectListNodes(pNode1, pNode2);</span><br><span class="line">    ConnectListNodes(pNode2, pNode3);</span><br><span class="line">    ConnectListNodes(pNode3, pNode4);</span><br><span class="line">    ConnectListNodes(pNode5, pNode6);</span><br><span class="line">    ConnectListNodes(pNode6, pNode7);</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test2&quot;, pNode1, pNode5, nullptr);</span><br><span class="line"></span><br><span class="line">    DestroyList(pNode1);</span><br><span class="line">    DestroyList(pNode5);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 公共结点是最后一个结点</span><br><span class="line">// 1 - 2 - 3 - 4 \</span><br><span class="line">//                7</span><br><span class="line">//         5 - 6 /</span><br><span class="line">void Test3()</span><br><span class="line">&#123;</span><br><span class="line">    ListNode* pNode1 = CreateListNode(1);</span><br><span class="line">    ListNode* pNode2 = CreateListNode(2);</span><br><span class="line">    ListNode* pNode3 = CreateListNode(3);</span><br><span class="line">    ListNode* pNode4 = CreateListNode(4);</span><br><span class="line">    ListNode* pNode5 = CreateListNode(5);</span><br><span class="line">    ListNode* pNode6 = CreateListNode(6);</span><br><span class="line">    ListNode* pNode7 = CreateListNode(7);</span><br><span class="line"></span><br><span class="line">    ConnectListNodes(pNode1, pNode2);</span><br><span class="line">    ConnectListNodes(pNode2, pNode3);</span><br><span class="line">    ConnectListNodes(pNode3, pNode4);</span><br><span class="line">    ConnectListNodes(pNode4, pNode7);</span><br><span class="line">    ConnectListNodes(pNode5, pNode6);</span><br><span class="line">    ConnectListNodes(pNode6, pNode7);</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test3&quot;, pNode1, pNode5, pNode7);</span><br><span class="line"></span><br><span class="line">    DestroyNode(pNode1);</span><br><span class="line">    DestroyNode(pNode2);</span><br><span class="line">    DestroyNode(pNode3);</span><br><span class="line">    DestroyNode(pNode4);</span><br><span class="line">    DestroyNode(pNode5);</span><br><span class="line">    DestroyNode(pNode6);</span><br><span class="line">    DestroyNode(pNode7);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 公共结点是第一个结点</span><br><span class="line">// 1 - 2 - 3 - 4 - 5</span><br><span class="line">// 两个链表完全重合</span><br><span class="line">void Test4()</span><br><span class="line">&#123;</span><br><span class="line">    ListNode* pNode1 = CreateListNode(1);</span><br><span class="line">    ListNode* pNode2 = CreateListNode(2);</span><br><span class="line">    ListNode* pNode3 = CreateListNode(3);</span><br><span class="line">    ListNode* pNode4 = CreateListNode(4);</span><br><span class="line">    ListNode* pNode5 = CreateListNode(5);</span><br><span class="line"></span><br><span class="line">    ConnectListNodes(pNode1, pNode2);</span><br><span class="line">    ConnectListNodes(pNode2, pNode3);</span><br><span class="line">    ConnectListNodes(pNode3, pNode4);</span><br><span class="line">    ConnectListNodes(pNode4, pNode5);</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test4&quot;, pNode1, pNode1, pNode1);</span><br><span class="line"></span><br><span class="line">    DestroyList(pNode1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 输入的两个链表有一个空链表</span><br><span class="line">void Test5()</span><br><span class="line">&#123;</span><br><span class="line">    ListNode* pNode1 = CreateListNode(1);</span><br><span class="line">    ListNode* pNode2 = CreateListNode(2);</span><br><span class="line">    ListNode* pNode3 = CreateListNode(3);</span><br><span class="line">    ListNode* pNode4 = CreateListNode(4);</span><br><span class="line">    ListNode* pNode5 = CreateListNode(5);</span><br><span class="line"></span><br><span class="line">    ConnectListNodes(pNode1, pNode2);</span><br><span class="line">    ConnectListNodes(pNode2, pNode3);</span><br><span class="line">    ConnectListNodes(pNode3, pNode4);</span><br><span class="line">    ConnectListNodes(pNode4, pNode5);</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test5&quot;, nullptr, pNode1, nullptr);</span><br><span class="line"></span><br><span class="line">    DestroyList(pNode1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 输入的两个链表有一个空链表</span><br><span class="line">void Test6()</span><br><span class="line">&#123;</span><br><span class="line">    Test(&quot;Test6&quot;, nullptr, nullptr, nullptr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void DestroyNode(ListNode* pNode)</span><br><span class="line">&#123;</span><br><span class="line">    delete pNode;</span><br><span class="line">    pNode = nullptr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    Test1();</span><br><span class="line">    Test2();</span><br><span class="line">    Test3();</span><br><span class="line">    Test4();</span><br><span class="line">    Test5();</span><br><span class="line">    Test6();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/53_MissingNumber/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/53_MissingNumber/" class="post-title-link" itemprop="url">剑指_53_MissingNumber</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:17:34" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题53（二）：0到n-1中缺失的数字</span><br><span class="line">// 题目：一个长度为n-1的递增排序数组中的所有数字都是唯一的，并且每个数字</span><br><span class="line">// 都在范围0到n-1之内。在范围0到n-1的n个数字中有且只有一个数字不在该数组</span><br><span class="line">// 中，请找出这个数字。</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line"></span><br><span class="line">int GetMissingNumber(const int* numbers, int length)</span><br><span class="line">&#123;</span><br><span class="line">    if (numbers == nullptr || length &lt;= 0)</span><br><span class="line">        return -1;</span><br><span class="line"></span><br><span class="line">    int left = 0;</span><br><span class="line">    int right = length - 1;</span><br><span class="line">    while (left &lt;= right) &#123;</span><br><span class="line">        int middle = (right + left) &gt;&gt; 1;</span><br><span class="line">        if (numbers[middle] != middle) &#123;</span><br><span class="line">            if (middle == 0 || numbers[middle - 1] == middle - 1)</span><br><span class="line">                return middle;</span><br><span class="line">            right = middle - 1;</span><br><span class="line">        &#125; else</span><br><span class="line">            left = middle + 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (left == length)</span><br><span class="line">        return length;</span><br><span class="line"></span><br><span class="line">    // 无效的输入，比如数组不是按要求排序的，</span><br><span class="line">    // 或者有数字不在0到n-1范围之内</span><br><span class="line">    return -1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void Test(const char* testName, int numbers[], int length, int expected)</span><br><span class="line">&#123;</span><br><span class="line">    if (testName != nullptr)</span><br><span class="line">        printf(&quot;%s begins: &quot;, testName);</span><br><span class="line"></span><br><span class="line">    int result = GetMissingNumber(numbers, length);</span><br><span class="line">    if (result == expected)</span><br><span class="line">        printf(&quot;Passed.\n&quot;);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;Failed.\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 缺失的是第一个数字0</span><br><span class="line">void Test1()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; 1, 2, 3, 4, 5 &#125;;</span><br><span class="line">    int expected = 0;</span><br><span class="line">    Test(&quot;Test1&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 缺失的是最后一个数字</span><br><span class="line">void Test2()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; 0, 1, 2, 3, 4 &#125;;</span><br><span class="line">    int expected = 5;</span><br><span class="line">    Test(&quot;Test2&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 缺失的是中间某个数字0</span><br><span class="line">void Test3()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; 0, 1, 2, 4, 5 &#125;;</span><br><span class="line">    int expected = 3;</span><br><span class="line">    Test(&quot;Test3&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 数组中只有一个数字，缺失的是第一个数字0</span><br><span class="line">void Test4()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; 1 &#125;;</span><br><span class="line">    int expected = 0;</span><br><span class="line">    Test(&quot;Test4&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 数组中只有一个数字，缺失的是最后一个数字1</span><br><span class="line">void Test5()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; 0 &#125;;</span><br><span class="line">    int expected = 1;</span><br><span class="line">    Test(&quot;Test5&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 空数组</span><br><span class="line">void Test6()</span><br><span class="line">&#123;</span><br><span class="line">    int expected = -1;</span><br><span class="line">    Test(&quot;Test6&quot;, nullptr, 0, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    Test1();</span><br><span class="line">    Test2();</span><br><span class="line">    Test3();</span><br><span class="line">    Test4();</span><br><span class="line">    Test5();</span><br><span class="line">    Test6();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/53_IntegerIdenticalToIndex/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/53_IntegerIdenticalToIndex/" class="post-title-link" itemprop="url">剑指_53_IntegerIdenticalToIndex</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:17:42" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题53（三）：数组中数值和下标相等的元素</span><br><span class="line">// 题目：假设一个单调递增的数组里的每个元素都是整数并且是唯一的。请编程实</span><br><span class="line">// 现一个函数找出数组中任意一个数值等于其下标的元素。例如，在数组&#123;-3, -1,</span><br><span class="line">// 1, 3, 5&#125;中，数字3和它的下标相等。</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line"></span><br><span class="line">int GetNumberSameAsIndex(const int* numbers, int length)</span><br><span class="line">&#123;</span><br><span class="line">    if (numbers == nullptr || length &lt;= 0)</span><br><span class="line">        return -1;</span><br><span class="line"></span><br><span class="line">    int left = 0;</span><br><span class="line">    int right = length - 1;</span><br><span class="line">    while (left &lt;= right) &#123;</span><br><span class="line">        int middle = left + ((right - left) &gt;&gt; 1);</span><br><span class="line">        if (numbers[middle] == middle)</span><br><span class="line">            return middle;</span><br><span class="line"></span><br><span class="line">        if (numbers[middle] &gt; middle)</span><br><span class="line">            right = middle - 1;</span><br><span class="line">        else</span><br><span class="line">            left = middle + 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return -1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void Test(const char* testName, int numbers[], int length, int expected)</span><br><span class="line">&#123;</span><br><span class="line">    if (GetNumberSameAsIndex(numbers, length) == expected)</span><br><span class="line">        printf(&quot;%s passed.\n&quot;, testName);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;%s FAILED.\n&quot;, testName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void Test1()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; -3, -1, 1, 3, 5 &#125;;</span><br><span class="line">    int expected = 3;</span><br><span class="line">    Test(&quot;Test1&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void Test2()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; 0, 1, 3, 5, 6 &#125;;</span><br><span class="line">    int expected = 0;</span><br><span class="line">    Test(&quot;Test2&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void Test3()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; -1, 0, 1, 2, 4 &#125;;</span><br><span class="line">    int expected = 4;</span><br><span class="line">    Test(&quot;Test3&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void Test4()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; -1, 0, 1, 2, 5 &#125;;</span><br><span class="line">    int expected = -1;</span><br><span class="line">    Test(&quot;Test4&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void Test5()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; 0 &#125;;</span><br><span class="line">    int expected = 0;</span><br><span class="line">    Test(&quot;Test5&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void Test6()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; 10 &#125;;</span><br><span class="line">    int expected = -1;</span><br><span class="line">    Test(&quot;Test6&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void Test7()</span><br><span class="line">&#123;</span><br><span class="line">    Test(&quot;Test7&quot;, nullptr, 0, -1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    Test1();</span><br><span class="line">    Test2();</span><br><span class="line">    Test3();</span><br><span class="line">    Test4();</span><br><span class="line">    Test5();</span><br><span class="line">    Test6();</span><br><span class="line">    Test7();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/53_NumberOfK/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/53_NumberOfK/" class="post-title-link" itemprop="url">剑指_53_NumberOfK</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:17:20" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题53（一）：数字在排序数组中出现的次数</span><br><span class="line">// 题目：统计一个数字在排序数组中出现的次数。例如输入排序数组&#123;1, 2, 3, 3,</span><br><span class="line">// 3, 3, 4, 5&#125;和数字3，由于3在这个数组中出现了4次，因此输出4。</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line"></span><br><span class="line">int GetFirstK(const int* data, int length, int k, int start, int end);</span><br><span class="line">int GetLastK(const int* data, int length, int k, int start, int end);</span><br><span class="line"></span><br><span class="line">int GetNumberOfK(const int* data, int length, int k)</span><br><span class="line">&#123;</span><br><span class="line">    int number = 0;</span><br><span class="line"></span><br><span class="line">    if (data != nullptr &amp;&amp; length &gt; 0) &#123;</span><br><span class="line">        int first = GetFirstK(data, length, k, 0, length - 1);</span><br><span class="line">        int last = GetLastK(data, length, k, 0, length - 1);</span><br><span class="line"></span><br><span class="line">        if (first &gt; -1 &amp;&amp; last &gt; -1)</span><br><span class="line">            number = last - first + 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 找到数组中第一个k的下标。如果数组中不存在k，返回-1</span><br><span class="line">int GetFirstK(const int* data, int length, int k, int start, int end)</span><br><span class="line">&#123;</span><br><span class="line">    if (start &gt; end)</span><br><span class="line">        return -1;</span><br><span class="line"></span><br><span class="line">    int middleIndex = (start + end) / 2;</span><br><span class="line">    int middleData = data[middleIndex];</span><br><span class="line"></span><br><span class="line">    if (middleData == k) &#123;</span><br><span class="line">        if ((middleIndex &gt; 0 &amp;&amp; data[middleIndex - 1] != k)</span><br><span class="line">            || middleIndex == 0)</span><br><span class="line">            return middleIndex;</span><br><span class="line">        else</span><br><span class="line">            end = middleIndex - 1;</span><br><span class="line">    &#125; else if (middleData &gt; k)</span><br><span class="line">        end = middleIndex - 1;</span><br><span class="line">    else</span><br><span class="line">        start = middleIndex + 1;</span><br><span class="line"></span><br><span class="line">    return GetFirstK(data, length, k, start, end);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 找到数组中最后一个k的下标。如果数组中不存在k，返回-1</span><br><span class="line">int GetLastK(const int* data, int length, int k, int start, int end)</span><br><span class="line">&#123;</span><br><span class="line">    if (start &gt; end)</span><br><span class="line">        return -1;</span><br><span class="line"></span><br><span class="line">    int middleIndex = (start + end) / 2;</span><br><span class="line">    int middleData = data[middleIndex];</span><br><span class="line"></span><br><span class="line">    if (middleData == k) &#123;</span><br><span class="line">        if ((middleIndex &lt; length - 1 &amp;&amp; data[middleIndex + 1] != k)</span><br><span class="line">            || middleIndex == length - 1)</span><br><span class="line">            return middleIndex;</span><br><span class="line">        else</span><br><span class="line">            start = middleIndex + 1;</span><br><span class="line">    &#125; else if (middleData &lt; k)</span><br><span class="line">        start = middleIndex + 1;</span><br><span class="line">    else</span><br><span class="line">        end = middleIndex - 1;</span><br><span class="line"></span><br><span class="line">    return GetLastK(data, length, k, start, end);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void Test(const char* testName, int data[], int length, int k, int expected)</span><br><span class="line">&#123;</span><br><span class="line">    if (testName != nullptr)</span><br><span class="line">        printf(&quot;%s begins: &quot;, testName);</span><br><span class="line"></span><br><span class="line">    int result = GetNumberOfK(data, length, k);</span><br><span class="line">    if (result == expected)</span><br><span class="line">        printf(&quot;Passed.\n&quot;);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;Failed.\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 查找的数字出现在数组的中间</span><br><span class="line">void Test1()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 1, 2, 3, 3, 3, 3, 4, 5 &#125;;</span><br><span class="line">    Test(&quot;Test1&quot;, data, sizeof(data) / sizeof(int), 3, 4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 查找的数组出现在数组的开头</span><br><span class="line">void Test2()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 3, 3, 3, 3, 4, 5 &#125;;</span><br><span class="line">    Test(&quot;Test2&quot;, data, sizeof(data) / sizeof(int), 3, 4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 查找的数组出现在数组的结尾</span><br><span class="line">void Test3()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 1, 2, 3, 3, 3, 3 &#125;;</span><br><span class="line">    Test(&quot;Test3&quot;, data, sizeof(data) / sizeof(int), 3, 4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 查找的数字不存在</span><br><span class="line">void Test4()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 1, 3, 3, 3, 3, 4, 5 &#125;;</span><br><span class="line">    Test(&quot;Test4&quot;, data, sizeof(data) / sizeof(int), 2, 0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 查找的数字比第一个数字还小，不存在</span><br><span class="line">void Test5()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 1, 3, 3, 3, 3, 4, 5 &#125;;</span><br><span class="line">    Test(&quot;Test5&quot;, data, sizeof(data) / sizeof(int), 0, 0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 查找的数字比最后一个数字还大，不存在</span><br><span class="line">void Test6()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 1, 3, 3, 3, 3, 4, 5 &#125;;</span><br><span class="line">    Test(&quot;Test6&quot;, data, sizeof(data) / sizeof(int), 6, 0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 数组中的数字从头到尾都是查找的数字</span><br><span class="line">void Test7()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 3, 3, 3, 3 &#125;;</span><br><span class="line">    Test(&quot;Test7&quot;, data, sizeof(data) / sizeof(int), 3, 4);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 数组中的数字从头到尾只有一个重复的数字，不是查找的数字</span><br><span class="line">void Test8()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 3, 3, 3, 3 &#125;;</span><br><span class="line">    Test(&quot;Test8&quot;, data, sizeof(data) / sizeof(int), 4, 0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 数组中只有一个数字，是查找的数字</span><br><span class="line">void Test9()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 3 &#125;;</span><br><span class="line">    Test(&quot;Test9&quot;, data, sizeof(data) / sizeof(int), 3, 1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 数组中只有一个数字，不是查找的数字</span><br><span class="line">void Test10()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 3 &#125;;</span><br><span class="line">    Test(&quot;Test10&quot;, data, sizeof(data) / sizeof(int), 4, 0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 鲁棒性测试，数组空指针</span><br><span class="line">void Test11()</span><br><span class="line">&#123;</span><br><span class="line">    Test(&quot;Test11&quot;, nullptr, 0, 0, 0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    Test1();</span><br><span class="line">    Test2();</span><br><span class="line">    Test3();</span><br><span class="line">    Test4();</span><br><span class="line">    Test5();</span><br><span class="line">    Test6();</span><br><span class="line">    Test7();</span><br><span class="line">    Test8();</span><br><span class="line">    Test9();</span><br><span class="line">    Test10();</span><br><span class="line">    Test11();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/54_KthNodeInBST/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/54_KthNodeInBST/" class="post-title-link" itemprop="url">剑指_54_KthNodeInBST</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:17:01" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题54：二叉搜索树的第k个结点</span><br><span class="line">// 题目：给定一棵二叉搜索树，请找出其中的第k大的结点。</span><br><span class="line"></span><br><span class="line">#include &quot;../Utilities/BinaryTree.h&quot;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line"></span><br><span class="line">const BinaryTreeNode* KthNodeCore(const BinaryTreeNode* pRoot, unsigned int&amp; k);</span><br><span class="line"></span><br><span class="line">const BinaryTreeNode* KthNode(const BinaryTreeNode* pRoot, unsigned int k)</span><br><span class="line">&#123;</span><br><span class="line">    if (pRoot == nullptr || k == 0)</span><br><span class="line">        return nullptr;</span><br><span class="line"></span><br><span class="line">    return KthNodeCore(pRoot, k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const BinaryTreeNode* KthNodeCore(const BinaryTreeNode* pRoot, unsigned int&amp; k)</span><br><span class="line">&#123;</span><br><span class="line">    const BinaryTreeNode* target = nullptr;</span><br><span class="line"></span><br><span class="line">    if (pRoot-&gt;m_pLeft != nullptr)</span><br><span class="line">        target = KthNodeCore(pRoot-&gt;m_pLeft, k);</span><br><span class="line"></span><br><span class="line">    if (target == nullptr) &#123;</span><br><span class="line">        if (k == 1)</span><br><span class="line">            target = pRoot;</span><br><span class="line"></span><br><span class="line">        k--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (target == nullptr &amp;&amp; pRoot-&gt;m_pRight != nullptr)</span><br><span class="line">        target = KthNodeCore(pRoot-&gt;m_pRight, k);</span><br><span class="line"></span><br><span class="line">    return target;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void Test(const char* testName, const BinaryTreeNode* pRoot, unsigned int k, bool isNull, int expected)</span><br><span class="line">&#123;</span><br><span class="line">    if (testName != nullptr)</span><br><span class="line">        printf(&quot;%s begins: &quot;, testName);</span><br><span class="line"></span><br><span class="line">    const BinaryTreeNode* pTarget = KthNode(pRoot, k);</span><br><span class="line">    if ((isNull &amp;&amp; pTarget == nullptr) || (!isNull &amp;&amp; pTarget-&gt;m_nValue == expected))</span><br><span class="line">        printf(&quot;Passed.\n&quot;);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;FAILED.\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//            8</span><br><span class="line">//        6      10</span><br><span class="line">//       5 7    9  11</span><br><span class="line">void TestA()</span><br><span class="line">&#123;</span><br><span class="line">    BinaryTreeNode* pNode8 = CreateBinaryTreeNode(8);</span><br><span class="line">    BinaryTreeNode* pNode6 = CreateBinaryTreeNode(6);</span><br><span class="line">    BinaryTreeNode* pNode10 = CreateBinaryTreeNode(10);</span><br><span class="line">    BinaryTreeNode* pNode5 = CreateBinaryTreeNode(5);</span><br><span class="line">    BinaryTreeNode* pNode7 = CreateBinaryTreeNode(7);</span><br><span class="line">    BinaryTreeNode* pNode9 = CreateBinaryTreeNode(9);</span><br><span class="line">    BinaryTreeNode* pNode11 = CreateBinaryTreeNode(11);</span><br><span class="line"></span><br><span class="line">    ConnectTreeNodes(pNode8, pNode6, pNode10);</span><br><span class="line">    ConnectTreeNodes(pNode6, pNode5, pNode7);</span><br><span class="line">    ConnectTreeNodes(pNode10, pNode9, pNode11);</span><br><span class="line"></span><br><span class="line">    Test(&quot;TestA0&quot;, pNode8, 0, true, -1);</span><br><span class="line">    Test(&quot;TestA1&quot;, pNode8, 1, false, 5);</span><br><span class="line">    Test(&quot;TestA2&quot;, pNode8, 2, false, 6);</span><br><span class="line">    Test(&quot;TestA3&quot;, pNode8, 3, false, 7);</span><br><span class="line">    Test(&quot;TestA4&quot;, pNode8, 4, false, 8);</span><br><span class="line">    Test(&quot;TestA5&quot;, pNode8, 5, false, 9);</span><br><span class="line">    Test(&quot;TestA6&quot;, pNode8, 6, false, 10);</span><br><span class="line">    Test(&quot;TestA7&quot;, pNode8, 7, false, 11);</span><br><span class="line">    Test(&quot;TestA8&quot;, pNode8, 8, true, -1);</span><br><span class="line"></span><br><span class="line">    DestroyTree(pNode8);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//               5</span><br><span class="line">//              /</span><br><span class="line">//             4</span><br><span class="line">//            /</span><br><span class="line">//           3</span><br><span class="line">//          /</span><br><span class="line">//         2</span><br><span class="line">//        /</span><br><span class="line">//       1</span><br><span class="line">void TestB()</span><br><span class="line">&#123;</span><br><span class="line">    BinaryTreeNode* pNode5 = CreateBinaryTreeNode(5);</span><br><span class="line">    BinaryTreeNode* pNode4 = CreateBinaryTreeNode(4);</span><br><span class="line">    BinaryTreeNode* pNode3 = CreateBinaryTreeNode(3);</span><br><span class="line">    BinaryTreeNode* pNode2 = CreateBinaryTreeNode(2);</span><br><span class="line">    BinaryTreeNode* pNode1 = CreateBinaryTreeNode(1);</span><br><span class="line"></span><br><span class="line">    ConnectTreeNodes(pNode5, pNode4, nullptr);</span><br><span class="line">    ConnectTreeNodes(pNode4, pNode3, nullptr);</span><br><span class="line">    ConnectTreeNodes(pNode3, pNode2, nullptr);</span><br><span class="line">    ConnectTreeNodes(pNode2, pNode1, nullptr);</span><br><span class="line"></span><br><span class="line">    Test(&quot;TestB0&quot;, pNode5, 0, true, -1);</span><br><span class="line">    Test(&quot;TestB1&quot;, pNode5, 1, false, 1);</span><br><span class="line">    Test(&quot;TestB2&quot;, pNode5, 2, false, 2);</span><br><span class="line">    Test(&quot;TestB3&quot;, pNode5, 3, false, 3);</span><br><span class="line">    Test(&quot;TestB4&quot;, pNode5, 4, false, 4);</span><br><span class="line">    Test(&quot;TestB5&quot;, pNode5, 5, false, 5);</span><br><span class="line">    Test(&quot;TestB6&quot;, pNode5, 6, true, -1);</span><br><span class="line"></span><br><span class="line">    DestroyTree(pNode5);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 1</span><br><span class="line">//  \</span><br><span class="line">//   2</span><br><span class="line">//    \</span><br><span class="line">//     3</span><br><span class="line">//      \</span><br><span class="line">//       4</span><br><span class="line">//        \</span><br><span class="line">//         5</span><br><span class="line">void TestC()</span><br><span class="line">&#123;</span><br><span class="line">    BinaryTreeNode* pNode1 = CreateBinaryTreeNode(1);</span><br><span class="line">    BinaryTreeNode* pNode2 = CreateBinaryTreeNode(2);</span><br><span class="line">    BinaryTreeNode* pNode3 = CreateBinaryTreeNode(3);</span><br><span class="line">    BinaryTreeNode* pNode4 = CreateBinaryTreeNode(4);</span><br><span class="line">    BinaryTreeNode* pNode5 = CreateBinaryTreeNode(5);</span><br><span class="line"></span><br><span class="line">    ConnectTreeNodes(pNode1, nullptr, pNode2);</span><br><span class="line">    ConnectTreeNodes(pNode2, nullptr, pNode3);</span><br><span class="line">    ConnectTreeNodes(pNode3, nullptr, pNode4);</span><br><span class="line">    ConnectTreeNodes(pNode4, nullptr, pNode5);</span><br><span class="line"></span><br><span class="line">    Test(&quot;TestC0&quot;, pNode1, 0, true, -1);</span><br><span class="line">    Test(&quot;TestC1&quot;, pNode1, 1, false, 1);</span><br><span class="line">    Test(&quot;TestC2&quot;, pNode1, 2, false, 2);</span><br><span class="line">    Test(&quot;TestC3&quot;, pNode1, 3, false, 3);</span><br><span class="line">    Test(&quot;TestC4&quot;, pNode1, 4, false, 4);</span><br><span class="line">    Test(&quot;TestC5&quot;, pNode1, 5, false, 5);</span><br><span class="line">    Test(&quot;TestC6&quot;, pNode1, 6, true, -1);</span><br><span class="line"></span><br><span class="line">    DestroyTree(pNode1);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// There is only one node in a tree</span><br><span class="line">void TestD()</span><br><span class="line">&#123;</span><br><span class="line">    BinaryTreeNode* pNode1 = CreateBinaryTreeNode(1);</span><br><span class="line"></span><br><span class="line">    Test(&quot;TestD0&quot;, pNode1, 0, true, -1);</span><br><span class="line">    Test(&quot;TestD1&quot;, pNode1, 1, false, 1);</span><br><span class="line">    Test(&quot;TestD2&quot;, pNode1, 2, true, -1);</span><br><span class="line"></span><br><span class="line">    DestroyTree(pNode1);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// empty tree</span><br><span class="line">void TestE()</span><br><span class="line">&#123;</span><br><span class="line">    Test(&quot;TestE0&quot;, nullptr, 0, true, -1);</span><br><span class="line">    Test(&quot;TestE1&quot;, nullptr, 1, true, -1);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    TestA();</span><br><span class="line">    TestB();</span><br><span class="line">    TestC();</span><br><span class="line">    TestD();</span><br><span class="line">    TestE();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/55_BalancedBinaryTree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/55_BalancedBinaryTree/" class="post-title-link" itemprop="url">剑指_55_BalancedBinaryTree</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:16:56" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题55（二）：平衡二叉树</span><br><span class="line">// 题目：输入一棵二叉树的根结点，判断该树是不是平衡二叉树。如果某二叉树中</span><br><span class="line">// 任意结点的左右子树的深度相差不超过1，那么它就是一棵平衡二叉树。</span><br><span class="line"></span><br><span class="line">#include &quot;..\Utilities\BinaryTree.h&quot;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line"></span><br><span class="line">// ====================方法1====================</span><br><span class="line">int TreeDepth(const BinaryTreeNode* pRoot)</span><br><span class="line">&#123;</span><br><span class="line">    if (pRoot == nullptr)</span><br><span class="line">        return 0;</span><br><span class="line"></span><br><span class="line">    int nLeft = TreeDepth(pRoot-&gt;m_pLeft);</span><br><span class="line">    int nRight = TreeDepth(pRoot-&gt;m_pRight);</span><br><span class="line"></span><br><span class="line">    return (nLeft &gt; nRight) ? (nLeft + 1) : (nRight + 1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bool IsBalanced_Solution1(const BinaryTreeNode* pRoot)</span><br><span class="line">&#123;</span><br><span class="line">    if (pRoot == nullptr)</span><br><span class="line">        return true;</span><br><span class="line"></span><br><span class="line">    int left = TreeDepth(pRoot-&gt;m_pLeft);</span><br><span class="line">    int right = TreeDepth(pRoot-&gt;m_pRight);</span><br><span class="line">    int diff = left - right;</span><br><span class="line">    if (diff &gt; 1 || diff &lt; -1)</span><br><span class="line">        return false;</span><br><span class="line"></span><br><span class="line">    return IsBalanced_Solution1(pRoot-&gt;m_pLeft)</span><br><span class="line">        &amp;&amp; IsBalanced_Solution1(pRoot-&gt;m_pRight);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================方法2====================</span><br><span class="line">bool IsBalanced(const BinaryTreeNode* pRoot, int* pDepth);</span><br><span class="line"></span><br><span class="line">bool IsBalanced_Solution2(const BinaryTreeNode* pRoot)</span><br><span class="line">&#123;</span><br><span class="line">    int depth = 0;</span><br><span class="line">    return IsBalanced(pRoot, &amp;depth);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bool IsBalanced(const BinaryTreeNode* pRoot, int* pDepth)</span><br><span class="line">&#123;</span><br><span class="line">    if (pRoot == nullptr) &#123;</span><br><span class="line">        *pDepth = 0;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int left, right;</span><br><span class="line">    if (IsBalanced(pRoot-&gt;m_pLeft, &amp;left)</span><br><span class="line">        &amp;&amp; IsBalanced(pRoot-&gt;m_pRight, &amp;right)) &#123;</span><br><span class="line">        int diff = left - right;</span><br><span class="line">        if (diff &lt;= 1 &amp;&amp; diff &gt;= -1) &#123;</span><br><span class="line">            *pDepth = 1 + (left &gt; right ? left : right);</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void Test(const char* testName, const BinaryTreeNode* pRoot, bool expected)</span><br><span class="line">&#123;</span><br><span class="line">    if (testName != nullptr)</span><br><span class="line">        printf(&quot;%s begins:\n&quot;, testName);</span><br><span class="line"></span><br><span class="line">    printf(&quot;Solution1 begins: &quot;);</span><br><span class="line">    if (IsBalanced_Solution1(pRoot) == expected)</span><br><span class="line">        printf(&quot;Passed.\n&quot;);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;Failed.\n&quot;);</span><br><span class="line"></span><br><span class="line">    printf(&quot;Solution2 begins: &quot;);</span><br><span class="line">    if (IsBalanced_Solution2(pRoot) == expected)</span><br><span class="line">        printf(&quot;Passed.\n&quot;);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;Failed.\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 完全二叉树</span><br><span class="line">//             1</span><br><span class="line">//         /      \</span><br><span class="line">//        2        3</span><br><span class="line">//       /\       / \</span><br><span class="line">//      4  5     6   7</span><br><span class="line">void Test1()</span><br><span class="line">&#123;</span><br><span class="line">    BinaryTreeNode* pNode1 = CreateBinaryTreeNode(1);</span><br><span class="line">    BinaryTreeNode* pNode2 = CreateBinaryTreeNode(2);</span><br><span class="line">    BinaryTreeNode* pNode3 = CreateBinaryTreeNode(3);</span><br><span class="line">    BinaryTreeNode* pNode4 = CreateBinaryTreeNode(4);</span><br><span class="line">    BinaryTreeNode* pNode5 = CreateBinaryTreeNode(5);</span><br><span class="line">    BinaryTreeNode* pNode6 = CreateBinaryTreeNode(6);</span><br><span class="line">    BinaryTreeNode* pNode7 = CreateBinaryTreeNode(7);</span><br><span class="line"></span><br><span class="line">    ConnectTreeNodes(pNode1, pNode2, pNode3);</span><br><span class="line">    ConnectTreeNodes(pNode2, pNode4, pNode5);</span><br><span class="line">    ConnectTreeNodes(pNode3, pNode6, pNode7);</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test1&quot;, pNode1, true);</span><br><span class="line"></span><br><span class="line">    DestroyTree(pNode1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 不是完全二叉树，但是平衡二叉树</span><br><span class="line">//             1</span><br><span class="line">//         /      \</span><br><span class="line">//        2        3</span><br><span class="line">//       /\         \</span><br><span class="line">//      4  5         6</span><br><span class="line">//        /</span><br><span class="line">//       7</span><br><span class="line">void Test2()</span><br><span class="line">&#123;</span><br><span class="line">    BinaryTreeNode* pNode1 = CreateBinaryTreeNode(1);</span><br><span class="line">    BinaryTreeNode* pNode2 = CreateBinaryTreeNode(2);</span><br><span class="line">    BinaryTreeNode* pNode3 = CreateBinaryTreeNode(3);</span><br><span class="line">    BinaryTreeNode* pNode4 = CreateBinaryTreeNode(4);</span><br><span class="line">    BinaryTreeNode* pNode5 = CreateBinaryTreeNode(5);</span><br><span class="line">    BinaryTreeNode* pNode6 = CreateBinaryTreeNode(6);</span><br><span class="line">    BinaryTreeNode* pNode7 = CreateBinaryTreeNode(7);</span><br><span class="line"></span><br><span class="line">    ConnectTreeNodes(pNode1, pNode2, pNode3);</span><br><span class="line">    ConnectTreeNodes(pNode2, pNode4, pNode5);</span><br><span class="line">    ConnectTreeNodes(pNode3, nullptr, pNode6);</span><br><span class="line">    ConnectTreeNodes(pNode5, pNode7, nullptr);</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test2&quot;, pNode1, true);</span><br><span class="line"></span><br><span class="line">    DestroyTree(pNode1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 不是平衡二叉树</span><br><span class="line">//             1</span><br><span class="line">//         /      \</span><br><span class="line">//        2        3</span><br><span class="line">//       /\         </span><br><span class="line">//      4  5</span><br><span class="line">//        /</span><br><span class="line">//       6</span><br><span class="line">void Test3()</span><br><span class="line">&#123;</span><br><span class="line">    BinaryTreeNode* pNode1 = CreateBinaryTreeNode(1);</span><br><span class="line">    BinaryTreeNode* pNode2 = CreateBinaryTreeNode(2);</span><br><span class="line">    BinaryTreeNode* pNode3 = CreateBinaryTreeNode(3);</span><br><span class="line">    BinaryTreeNode* pNode4 = CreateBinaryTreeNode(4);</span><br><span class="line">    BinaryTreeNode* pNode5 = CreateBinaryTreeNode(5);</span><br><span class="line">    BinaryTreeNode* pNode6 = CreateBinaryTreeNode(6);</span><br><span class="line"></span><br><span class="line">    ConnectTreeNodes(pNode1, pNode2, pNode3);</span><br><span class="line">    ConnectTreeNodes(pNode2, pNode4, pNode5);</span><br><span class="line">    ConnectTreeNodes(pNode5, pNode6, nullptr);</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test3&quot;, pNode1, false);</span><br><span class="line"></span><br><span class="line">    DestroyTree(pNode1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//               1</span><br><span class="line">//              /</span><br><span class="line">//             2</span><br><span class="line">//            /</span><br><span class="line">//           3</span><br><span class="line">//          /</span><br><span class="line">//         4</span><br><span class="line">//        /</span><br><span class="line">//       5</span><br><span class="line">void Test4()</span><br><span class="line">&#123;</span><br><span class="line">    BinaryTreeNode* pNode1 = CreateBinaryTreeNode(1);</span><br><span class="line">    BinaryTreeNode* pNode2 = CreateBinaryTreeNode(2);</span><br><span class="line">    BinaryTreeNode* pNode3 = CreateBinaryTreeNode(3);</span><br><span class="line">    BinaryTreeNode* pNode4 = CreateBinaryTreeNode(4);</span><br><span class="line">    BinaryTreeNode* pNode5 = CreateBinaryTreeNode(5);</span><br><span class="line"></span><br><span class="line">    ConnectTreeNodes(pNode1, pNode2, nullptr);</span><br><span class="line">    ConnectTreeNodes(pNode2, pNode3, nullptr);</span><br><span class="line">    ConnectTreeNodes(pNode3, pNode4, nullptr);</span><br><span class="line">    ConnectTreeNodes(pNode4, pNode5, nullptr);</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test4&quot;, pNode1, false);</span><br><span class="line"></span><br><span class="line">    DestroyTree(pNode1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 1</span><br><span class="line">//  \</span><br><span class="line">//   2</span><br><span class="line">//    \</span><br><span class="line">//     3</span><br><span class="line">//      \</span><br><span class="line">//       4</span><br><span class="line">//        \</span><br><span class="line">//         5</span><br><span class="line">void Test5()</span><br><span class="line">&#123;</span><br><span class="line">    BinaryTreeNode* pNode1 = CreateBinaryTreeNode(1);</span><br><span class="line">    BinaryTreeNode* pNode2 = CreateBinaryTreeNode(2);</span><br><span class="line">    BinaryTreeNode* pNode3 = CreateBinaryTreeNode(3);</span><br><span class="line">    BinaryTreeNode* pNode4 = CreateBinaryTreeNode(4);</span><br><span class="line">    BinaryTreeNode* pNode5 = CreateBinaryTreeNode(5);</span><br><span class="line"></span><br><span class="line">    ConnectTreeNodes(pNode1, nullptr, pNode2);</span><br><span class="line">    ConnectTreeNodes(pNode2, nullptr, pNode3);</span><br><span class="line">    ConnectTreeNodes(pNode3, nullptr, pNode4);</span><br><span class="line">    ConnectTreeNodes(pNode4, nullptr, pNode5);</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test5&quot;, pNode1, false);</span><br><span class="line"></span><br><span class="line">    DestroyTree(pNode1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 树中只有1个结点</span><br><span class="line">void Test6()</span><br><span class="line">&#123;</span><br><span class="line">    BinaryTreeNode* pNode1 = CreateBinaryTreeNode(1);</span><br><span class="line">    Test(&quot;Test6&quot;, pNode1, true);</span><br><span class="line"></span><br><span class="line">    DestroyTree(pNode1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 树中没有结点</span><br><span class="line">void Test7()</span><br><span class="line">&#123;</span><br><span class="line">    Test(&quot;Test7&quot;, nullptr, true);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    Test1();</span><br><span class="line">    Test2();</span><br><span class="line">    Test3();</span><br><span class="line">    Test4();</span><br><span class="line">    Test5();</span><br><span class="line">    Test6();</span><br><span class="line">    Test7();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/55_TreeDepth/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/55_TreeDepth/" class="post-title-link" itemprop="url">剑指_55_TreeDepth</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:16:48" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题55（一）：二叉树的深度</span><br><span class="line">// 题目：输入一棵二叉树的根结点，求该树的深度。从根结点到叶结点依次经过的</span><br><span class="line">// 结点（含根、叶结点）形成树的一条路径，最长路径的长度为树的深度。</span><br><span class="line"></span><br><span class="line">#include &quot;..\Utilities\BinaryTree.h&quot;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line"></span><br><span class="line">int TreeDepth(const BinaryTreeNode* pRoot)</span><br><span class="line">&#123;</span><br><span class="line">    if (pRoot == nullptr)</span><br><span class="line">        return 0;</span><br><span class="line"></span><br><span class="line">    int nLeft = TreeDepth(pRoot-&gt;m_pLeft);</span><br><span class="line">    int nRight = TreeDepth(pRoot-&gt;m_pRight);</span><br><span class="line"></span><br><span class="line">    return (nLeft &gt; nRight) ? (nLeft + 1) : (nRight + 1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void Test(const char* testName, const BinaryTreeNode* pRoot, int expected)</span><br><span class="line">&#123;</span><br><span class="line">    int result = TreeDepth(pRoot);</span><br><span class="line">    if (expected == result)</span><br><span class="line">        printf(&quot;%s passed.\n&quot;, testName);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;%s FAILED.\n&quot;, testName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//            1</span><br><span class="line">//         /      \</span><br><span class="line">//        2        3</span><br><span class="line">//       /\         \</span><br><span class="line">//      4  5         6</span><br><span class="line">//        /</span><br><span class="line">//       7</span><br><span class="line">void Test1()</span><br><span class="line">&#123;</span><br><span class="line">    BinaryTreeNode* pNode1 = CreateBinaryTreeNode(1);</span><br><span class="line">    BinaryTreeNode* pNode2 = CreateBinaryTreeNode(2);</span><br><span class="line">    BinaryTreeNode* pNode3 = CreateBinaryTreeNode(3);</span><br><span class="line">    BinaryTreeNode* pNode4 = CreateBinaryTreeNode(4);</span><br><span class="line">    BinaryTreeNode* pNode5 = CreateBinaryTreeNode(5);</span><br><span class="line">    BinaryTreeNode* pNode6 = CreateBinaryTreeNode(6);</span><br><span class="line">    BinaryTreeNode* pNode7 = CreateBinaryTreeNode(7);</span><br><span class="line"></span><br><span class="line">    ConnectTreeNodes(pNode1, pNode2, pNode3);</span><br><span class="line">    ConnectTreeNodes(pNode2, pNode4, pNode5);</span><br><span class="line">    ConnectTreeNodes(pNode3, nullptr, pNode6);</span><br><span class="line">    ConnectTreeNodes(pNode5, pNode7, nullptr);</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test1&quot;, pNode1, 4);</span><br><span class="line"></span><br><span class="line">    DestroyTree(pNode1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//               1</span><br><span class="line">//              /</span><br><span class="line">//             2</span><br><span class="line">//            /</span><br><span class="line">//           3</span><br><span class="line">//          /</span><br><span class="line">//         4</span><br><span class="line">//        /</span><br><span class="line">//       5</span><br><span class="line">void Test2()</span><br><span class="line">&#123;</span><br><span class="line">    BinaryTreeNode* pNode1 = CreateBinaryTreeNode(1);</span><br><span class="line">    BinaryTreeNode* pNode2 = CreateBinaryTreeNode(2);</span><br><span class="line">    BinaryTreeNode* pNode3 = CreateBinaryTreeNode(3);</span><br><span class="line">    BinaryTreeNode* pNode4 = CreateBinaryTreeNode(4);</span><br><span class="line">    BinaryTreeNode* pNode5 = CreateBinaryTreeNode(5);</span><br><span class="line"></span><br><span class="line">    ConnectTreeNodes(pNode1, pNode2, nullptr);</span><br><span class="line">    ConnectTreeNodes(pNode2, pNode3, nullptr);</span><br><span class="line">    ConnectTreeNodes(pNode3, pNode4, nullptr);</span><br><span class="line">    ConnectTreeNodes(pNode4, pNode5, nullptr);</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test2&quot;, pNode1, 5);</span><br><span class="line"></span><br><span class="line">    DestroyTree(pNode1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 1</span><br><span class="line">//  \</span><br><span class="line">//   2</span><br><span class="line">//    \</span><br><span class="line">//     3</span><br><span class="line">//      \</span><br><span class="line">//       4</span><br><span class="line">//        \</span><br><span class="line">//         5</span><br><span class="line">void Test3()</span><br><span class="line">&#123;</span><br><span class="line">    BinaryTreeNode* pNode1 = CreateBinaryTreeNode(1);</span><br><span class="line">    BinaryTreeNode* pNode2 = CreateBinaryTreeNode(2);</span><br><span class="line">    BinaryTreeNode* pNode3 = CreateBinaryTreeNode(3);</span><br><span class="line">    BinaryTreeNode* pNode4 = CreateBinaryTreeNode(4);</span><br><span class="line">    BinaryTreeNode* pNode5 = CreateBinaryTreeNode(5);</span><br><span class="line"></span><br><span class="line">    ConnectTreeNodes(pNode1, nullptr, pNode2);</span><br><span class="line">    ConnectTreeNodes(pNode2, nullptr, pNode3);</span><br><span class="line">    ConnectTreeNodes(pNode3, nullptr, pNode4);</span><br><span class="line">    ConnectTreeNodes(pNode4, nullptr, pNode5);</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test3&quot;, pNode1, 5);</span><br><span class="line"></span><br><span class="line">    DestroyTree(pNode1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 树中只有1个结点</span><br><span class="line">void Test4()</span><br><span class="line">&#123;</span><br><span class="line">    BinaryTreeNode* pNode1 = CreateBinaryTreeNode(1);</span><br><span class="line">    Test(&quot;Test4&quot;, pNode1, 1);</span><br><span class="line"></span><br><span class="line">    DestroyTree(pNode1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 树中没有结点</span><br><span class="line">void Test5()</span><br><span class="line">&#123;</span><br><span class="line">    Test(&quot;Test5&quot;, nullptr, 0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    Test1();</span><br><span class="line">    Test2();</span><br><span class="line">    Test3();</span><br><span class="line">    Test4();</span><br><span class="line">    Test5();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/56_NumberAppearingOnce/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/56_NumberAppearingOnce/" class="post-title-link" itemprop="url">剑指_56_NumberAppearingOnce</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:16:44" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题56（二）：数组中唯一只出现一次的数字</span><br><span class="line">// 题目：在一个数组中除了一个数字只出现一次之外，其他数字都出现了三次。请</span><br><span class="line">// 找出那个吃出现一次的数字。</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;exception&gt;</span><br><span class="line"></span><br><span class="line">int FindNumberAppearingOnce(int numbers[], int length)</span><br><span class="line">&#123;</span><br><span class="line">    if (numbers == nullptr || length &lt;= 0)</span><br><span class="line">        throw new std::exception(&quot;Invalid input.&quot;);</span><br><span class="line"></span><br><span class="line">    int bitSum[32] = &#123; 0 &#125;;</span><br><span class="line">    for (int i = 0; i &lt; length; ++i) &#123;</span><br><span class="line">        int bitMask = 1;</span><br><span class="line">        for (int j = 31; j &gt;= 0; --j) &#123;</span><br><span class="line">            int bit = numbers[i] &amp; bitMask;</span><br><span class="line">            if (bit != 0)</span><br><span class="line">                bitSum[j] += 1;</span><br><span class="line"></span><br><span class="line">            bitMask = bitMask &lt;&lt; 1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int result = 0;</span><br><span class="line">    for (int i = 0; i &lt; 32; ++i) &#123;</span><br><span class="line">        result = result &lt;&lt; 1;</span><br><span class="line">        result += bitSum[i] % 3;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void Test(const char* testName, int numbers[], int length, int expected)</span><br><span class="line">&#123;</span><br><span class="line">    int result = FindNumberAppearingOnce(numbers, length);</span><br><span class="line">    if (result == expected)</span><br><span class="line">        printf(&quot;%s passed.\n&quot;, testName);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;%s FAILED.\n&quot;, testName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 所有数字都是正数，唯一的数字是最小的</span><br><span class="line">void Test1()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; 1, 1, 2, 2, 2, 1, 3 &#125;;</span><br><span class="line">    int expected = 3;</span><br><span class="line">    Test(&quot;Test1&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 所有数字都是正数，唯一的数字的大小位于中间</span><br><span class="line">void Test2()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; 4, 3, 3, 2, 2, 2, 3 &#125;;</span><br><span class="line">    int expected = 4;</span><br><span class="line">    Test(&quot;Test2&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 所有数字都是正数，唯一的数字是最大的</span><br><span class="line">void Test3()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; 4, 4, 1, 1, 1, 7, 4 &#125;;</span><br><span class="line">    int expected = 7;</span><br><span class="line">    Test(&quot;Test3&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 唯一的数字是负数</span><br><span class="line">void Test4()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; -10, 214, 214, 214 &#125;;</span><br><span class="line">    int expected = -10;</span><br><span class="line">    Test(&quot;Test4&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 除了唯一的数字，其他数字都是负数</span><br><span class="line">void Test5()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; -209, 3467, -209, -209 &#125;;</span><br><span class="line">    int expected = 3467;</span><br><span class="line">    Test(&quot;Test5&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 重复的数字有正数也有负数</span><br><span class="line">void Test6()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; 1024, -1025, 1024, -1025, 1024, -1025, 1023 &#125;;</span><br><span class="line">    int expected = 1023;</span><br><span class="line">    Test(&quot;Test6&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 所有数字都是负数</span><br><span class="line">void Test7()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; -1024, -1024, -1024, -1023 &#125;;</span><br><span class="line">    int expected = -1023;</span><br><span class="line">    Test(&quot;Test7&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 唯一的数字是0</span><br><span class="line">void Test8()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; -23, 0, 214, -23, 214, -23, 214 &#125;;</span><br><span class="line">    int expected = 0;</span><br><span class="line">    Test(&quot;Test8&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 除了唯一的数字，其他数字都是0</span><br><span class="line">void Test9()</span><br><span class="line">&#123;</span><br><span class="line">    int numbers[] = &#123; 0, 3467, 0, 0, 0, 0, 0, 0 &#125;;</span><br><span class="line">    int expected = 3467;</span><br><span class="line">    Test(&quot;Test9&quot;, numbers, sizeof(numbers) / sizeof(int), expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    Test1();</span><br><span class="line">    Test2();</span><br><span class="line">    Test3();</span><br><span class="line">    Test4();</span><br><span class="line">    Test5();</span><br><span class="line">    Test6();</span><br><span class="line">    Test7();</span><br><span class="line">    Test8();</span><br><span class="line">    Test9();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/56_NumbersAppearOnce/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/56_NumbersAppearOnce/" class="post-title-link" itemprop="url">剑指_56_NumbersAppearOnce</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:16:39" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题56（一）：数组中只出现一次的两个数字</span><br><span class="line">// 题目：一个整型数组里除了两个数字之外，其他的数字都出现了两次。请写程序</span><br><span class="line">// 找出这两个只出现一次的数字。要求时间复杂度是O(n)，空间复杂度是O(1)。</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line"></span><br><span class="line">unsigned int FindFirstBitIs1(int num);</span><br><span class="line">bool IsBit1(int num, unsigned int indexBit);</span><br><span class="line"></span><br><span class="line">void FindNumsAppearOnce(int data[], int length, int* num1, int* num2)</span><br><span class="line">&#123;</span><br><span class="line">    if (data == nullptr || length &lt; 2)</span><br><span class="line">        return;</span><br><span class="line"></span><br><span class="line">    int resultExclusiveOR = 0;</span><br><span class="line">    for (int i = 0; i &lt; length; ++i)</span><br><span class="line">        resultExclusiveOR ^= data[i];</span><br><span class="line"></span><br><span class="line">    unsigned int indexOf1 = FindFirstBitIs1(resultExclusiveOR);</span><br><span class="line"></span><br><span class="line">    *num1 = *num2 = 0;</span><br><span class="line">    for (int j = 0; j &lt; length; ++j) &#123;</span><br><span class="line">        if (IsBit1(data[j], indexOf1))</span><br><span class="line">            *num1 ^= data[j];</span><br><span class="line">        else</span><br><span class="line">            *num2 ^= data[j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 找到num从右边数起第一个是1的位</span><br><span class="line">unsigned int FindFirstBitIs1(int num)</span><br><span class="line">&#123;</span><br><span class="line">    int indexBit = 0;</span><br><span class="line">    while (((num &amp; 1) == 0) &amp;&amp; (indexBit &lt; 8 * sizeof(int))) &#123;</span><br><span class="line">        num = num &gt;&gt; 1;</span><br><span class="line">        ++indexBit;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return indexBit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 判断数字num的第indexBit位是不是1</span><br><span class="line">bool IsBit1(int num, unsigned int indexBit)</span><br><span class="line">&#123;</span><br><span class="line">    num = num &gt;&gt; indexBit;</span><br><span class="line">    return (num &amp; 1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void Test(const char* testName, int data[], int length, int expected1, int expected2)</span><br><span class="line">&#123;</span><br><span class="line">    if (testName != nullptr)</span><br><span class="line">        printf(&quot;%s begins: &quot;, testName);</span><br><span class="line"></span><br><span class="line">    int result1, result2;</span><br><span class="line">    FindNumsAppearOnce(data, length, &amp;result1, &amp;result2);</span><br><span class="line"></span><br><span class="line">    if ((expected1 == result1 &amp;&amp; expected2 == result2) || (expected2 == result1 &amp;&amp; expected1 == result2))</span><br><span class="line">        printf(&quot;Passed.\n\n&quot;);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;Failed.\n\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void Test1()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 2, 4, 3, 6, 3, 2, 5, 5 &#125;;</span><br><span class="line">    Test(&quot;Test1&quot;, data, sizeof(data) / sizeof(int), 4, 6);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void Test2()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 4, 6 &#125;;</span><br><span class="line">    Test(&quot;Test2&quot;, data, sizeof(data) / sizeof(int), 4, 6);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void Test3()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 4, 6, 1, 1, 1, 1 &#125;;</span><br><span class="line">    Test(&quot;Test3&quot;, data, sizeof(data) / sizeof(int), 4, 6);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    Test1();</span><br><span class="line">    Test2();</span><br><span class="line">    Test3();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/57_ContinuousSquenceWithSum/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/57_ContinuousSquenceWithSum/" class="post-title-link" itemprop="url">剑指_57_ContinuousSquenceWithSum</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:16:34" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题57（二）：为s的连续正数序列</span><br><span class="line">// 题目：输入一个正数s，打印出所有和为s的连续正数序列（至少含有两个数）。</span><br><span class="line">// 例如输入15，由于1+2+3+4+5=4+5+6=7+8=15，所以结果打印出3个连续序列1～5、</span><br><span class="line">// 4～6和7～8。</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line"></span><br><span class="line">void PrintContinuousSequence(int small, int big);</span><br><span class="line"></span><br><span class="line">void FindContinuousSequence(int sum)</span><br><span class="line">&#123;</span><br><span class="line">    if (sum &lt; 3)</span><br><span class="line">        return;</span><br><span class="line"></span><br><span class="line">    int small = 1;</span><br><span class="line">    int big = 2;</span><br><span class="line">    int middle = (1 + sum) / 2;</span><br><span class="line">    int curSum = small + big;</span><br><span class="line"></span><br><span class="line">    while (small &lt; middle) &#123;</span><br><span class="line">        if (curSum == sum)</span><br><span class="line">            PrintContinuousSequence(small, big);</span><br><span class="line"></span><br><span class="line">        while (curSum &gt; sum &amp;&amp; small &lt; middle) &#123;</span><br><span class="line">            curSum -= small;</span><br><span class="line">            small++;</span><br><span class="line"></span><br><span class="line">            if (curSum == sum)</span><br><span class="line">                PrintContinuousSequence(small, big);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        big++;</span><br><span class="line">        curSum += big;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void PrintContinuousSequence(int small, int big)</span><br><span class="line">&#123;</span><br><span class="line">    for (int i = small; i &lt;= big; ++i)</span><br><span class="line">        printf(&quot;%d &quot;, i);</span><br><span class="line"></span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void Test(const char* testName, int sum)</span><br><span class="line">&#123;</span><br><span class="line">    if (testName != nullptr)</span><br><span class="line">        printf(&quot;%s for %d begins: \n&quot;, testName, sum);</span><br><span class="line"></span><br><span class="line">    FindContinuousSequence(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    Test(&quot;test1&quot;, 1);</span><br><span class="line">    Test(&quot;test2&quot;, 3);</span><br><span class="line">    Test(&quot;test3&quot;, 4);</span><br><span class="line">    Test(&quot;test4&quot;, 9);</span><br><span class="line">    Test(&quot;test5&quot;, 15);</span><br><span class="line">    Test(&quot;test6&quot;, 100);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/57_TwoNumbersWithSum/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/57_TwoNumbersWithSum/" class="post-title-link" itemprop="url">剑指_57_TwoNumbersWithSum</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:16:30" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题57（一）：和为s的两个数字</span><br><span class="line">// 题目：输入一个递增排序的数组和一个数字s，在数组中查找两个数，使得它们</span><br><span class="line">// 的和正好是s。如果有多对数字的和等于s，输出任意一对即可。</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line"></span><br><span class="line">bool FindNumbersWithSum(int data[], int length, int sum,</span><br><span class="line">    int* num1, int* num2)</span><br><span class="line">&#123;</span><br><span class="line">    bool found = false;</span><br><span class="line">    if (length &lt; 1 || num1 == nullptr || num2 == nullptr)</span><br><span class="line">        return found;</span><br><span class="line"></span><br><span class="line">    int ahead = length - 1;</span><br><span class="line">    int behind = 0;</span><br><span class="line"></span><br><span class="line">    while (ahead &gt; behind) &#123;</span><br><span class="line">        long long curSum = data[ahead] + data[behind];</span><br><span class="line"></span><br><span class="line">        if (curSum == sum) &#123;</span><br><span class="line">            *num1 = data[behind];</span><br><span class="line">            *num2 = data[ahead];</span><br><span class="line">            found = true;</span><br><span class="line">            break;</span><br><span class="line">        &#125; else if (curSum &gt; sum)</span><br><span class="line">            ahead--;</span><br><span class="line">        else</span><br><span class="line">            behind++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return found;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void Test(const char* testName, int data[], int length, int sum, bool expectedReturn)</span><br><span class="line">&#123;</span><br><span class="line">    if (testName != nullptr)</span><br><span class="line">        printf(&quot;%s begins: &quot;, testName);</span><br><span class="line"></span><br><span class="line">    int num1, num2;</span><br><span class="line">    int result = FindNumbersWithSum(data, length, sum, &amp;num1, &amp;num2);</span><br><span class="line">    if (result == expectedReturn) &#123;</span><br><span class="line">        if (result) &#123;</span><br><span class="line">            if (num1 + num2 == sum)</span><br><span class="line">                printf(&quot;Passed. \n&quot;);</span><br><span class="line">            else</span><br><span class="line">                printf(&quot;FAILED. \n&quot;);</span><br><span class="line">        &#125; else</span><br><span class="line">            printf(&quot;Passed. \n&quot;);</span><br><span class="line">    &#125; else</span><br><span class="line">        printf(&quot;FAILED. \n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 存在和为s的两个数字，这两个数字位于数组的中间</span><br><span class="line">void Test1()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 1, 2, 4, 7, 11, 15 &#125;;</span><br><span class="line">    Test(&quot;Test1&quot;, data, sizeof(data) / sizeof(int), 15, true);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 存在和为s的两个数字，这两个数字位于数组的两段</span><br><span class="line">void Test2()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 1, 2, 4, 7, 11, 16 &#125;;</span><br><span class="line">    Test(&quot;Test2&quot;, data, sizeof(data) / sizeof(int), 17, true);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 不存在和为s的两个数字</span><br><span class="line">void Test3()</span><br><span class="line">&#123;</span><br><span class="line">    int data[] = &#123; 1, 2, 4, 7, 11, 16 &#125;;</span><br><span class="line">    Test(&quot;Test3&quot;, data, sizeof(data) / sizeof(int), 10, false);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 鲁棒性测试</span><br><span class="line">void Test4()</span><br><span class="line">&#123;</span><br><span class="line">    Test(&quot;Test4&quot;, nullptr, 0, 0, false);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    Test1();</span><br><span class="line">    Test2();</span><br><span class="line">    Test3();</span><br><span class="line">    Test4();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/58_LeftRotateString/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/58_LeftRotateString/" class="post-title-link" itemprop="url">剑指_58_LeftRotateString</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:16:26" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题58（二）：左旋转字符串</span><br><span class="line">// 题目：字符串的左旋转操作是把字符串前面的若干个字符转移到字符串的尾部。</span><br><span class="line">// 请定义一个函数实现字符串左旋转操作的功能。比如输入字符串&quot;abcdefg&quot;和数</span><br><span class="line">// 字2，该函数将返回左旋转2位得到的结果&quot;cdefgab&quot;。</span><br><span class="line"></span><br><span class="line">#include &quot;..\Utilities\StringUtil.h&quot;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">char* LeftRotateString(char* pStr, int n)</span><br><span class="line">&#123;</span><br><span class="line">    if (pStr != nullptr) &#123;</span><br><span class="line">        int nLength = static_cast&lt;int&gt;(strlen(pStr));</span><br><span class="line">        if (nLength &gt; 0 &amp;&amp; n &gt; 0 &amp;&amp; n &lt; nLength) &#123;</span><br><span class="line">            char* pFirstStart = pStr;</span><br><span class="line">            char* pFirstEnd = pStr + n - 1;</span><br><span class="line">            char* pSecondStart = pStr + n;</span><br><span class="line">            char* pSecondEnd = pStr + nLength - 1;</span><br><span class="line"></span><br><span class="line">            // 翻转字符串的前面n个字符</span><br><span class="line">            Reverse(pFirstStart, pFirstEnd);</span><br><span class="line">            // 翻转字符串的后面部分</span><br><span class="line">            Reverse(pSecondStart, pSecondEnd);</span><br><span class="line">            // 翻转整个字符串</span><br><span class="line">            Reverse(pFirstStart, pSecondEnd);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return pStr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ====================测试代码====================</span><br><span class="line">void Test(const char* testName, char* input, int num, const char* expectedResult)</span><br><span class="line">&#123;</span><br><span class="line">    if (testName != nullptr)</span><br><span class="line">        printf(&quot;%s begins: &quot;, testName);</span><br><span class="line"></span><br><span class="line">    char* result = LeftRotateString(input, num);</span><br><span class="line"></span><br><span class="line">    if ((input == nullptr &amp;&amp; expectedResult == nullptr)</span><br><span class="line">        || (input != nullptr &amp;&amp; strcmp(result, expectedResult) == 0))</span><br><span class="line">        printf(&quot;Passed.\n\n&quot;);</span><br><span class="line">    else</span><br><span class="line">        printf(&quot;Failed.\n\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 功能测试</span><br><span class="line">void Test1()</span><br><span class="line">&#123;</span><br><span class="line">    char input[] = &quot;abcdefg&quot;;</span><br><span class="line">    char expected[] = &quot;cdefgab&quot;;</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test1&quot;, input, 2, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 边界值测试</span><br><span class="line">void Test2()</span><br><span class="line">&#123;</span><br><span class="line">    char input[] = &quot;abcdefg&quot;;</span><br><span class="line">    char expected[] = &quot;bcdefga&quot;;</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test2&quot;, input, 1, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 边界值测试</span><br><span class="line">void Test3()</span><br><span class="line">&#123;</span><br><span class="line">    char input[] = &quot;abcdefg&quot;;</span><br><span class="line">    char expected[] = &quot;gabcdef&quot;;</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test3&quot;, input, 6, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 鲁棒性测试</span><br><span class="line">void Test4()</span><br><span class="line">&#123;</span><br><span class="line">    Test(&quot;Test4&quot;, nullptr, 6, nullptr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 鲁棒性测试</span><br><span class="line">void Test5()</span><br><span class="line">&#123;</span><br><span class="line">    char input[] = &quot;abcdefg&quot;;</span><br><span class="line">    char expected[] = &quot;abcdefg&quot;;</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test5&quot;, input, 0, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 鲁棒性测试</span><br><span class="line">void Test6()</span><br><span class="line">&#123;</span><br><span class="line">    char input[] = &quot;abcdefg&quot;;</span><br><span class="line">    char expected[] = &quot;abcdefg&quot;;</span><br><span class="line"></span><br><span class="line">    Test(&quot;Test6&quot;, input, 7, expected);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    Test1();</span><br><span class="line">    Test2();</span><br><span class="line">    Test3();</span><br><span class="line">    Test4();</span><br><span class="line">    Test5();</span><br><span class="line">    Test6();</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/18/58_ReverseWordsInSentence/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Andrew Chan">
      <meta itemprop="description" content="Personnal blogs">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andrew Chan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/18/58_ReverseWordsInSentence/" class="post-title-link" itemprop="url">剑指_58_ReverseWordsInSentence</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-18 00:00:00 / Modified: 16:41:22" itemprop="dateCreated datePublished" datetime="2019-03-18T00:00:00+08:00">2019-03-18</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">/*******************************************************************</span><br><span class="line">Copyright(c) 2016, Harry He</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Distributed under the BSD license.</span><br><span class="line">(See accompanying file LICENSE.txt at</span><br><span class="line">https://github.com/zhedahht/CodingInterviewChinese2/blob/master/LICENSE.txt)</span><br><span class="line">*******************************************************************/</span><br><span class="line"></span><br><span class="line">//==================================================================</span><br><span class="line">// 《剑指Offer——名企面试官精讲典型编程题》代码</span><br><span class="line">// 作者：何海涛</span><br><span class="line">//==================================================================</span><br><span class="line"></span><br><span class="line">// 面试题58（一）：翻转单词顺序</span><br><span class="line">// 题目：输入一个英文句子，翻转句子中单词的顺序，但单词内字符的顺序不变。</span><br><span class="line">// 为简单起见，标点符号和普通字母一样处理。例如输入字符串&quot;I am a student. &quot;，</span><br><span class="line">// 则输出&quot;student. a am I&quot;。</span><br><span class="line"></span><br><span class="line">#include &quot;..\Utilities\StringUtil.h&quot;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line"></span><br><span class="line">char* ReverseSentence(char* pData)</span><br><span class="line">&#123;</span><br><span class="line">    if (pData == nullptr)</span><br><span class="line">        return nullptr;</span><br><span class="line"></span><br><span class="line">    char* pBegin = pData;</span><br><span class="line"></span><br><span class="line">    char* pEnd = pData;</span><br><span class="line">    while (*pEnd != &apos;\0&apos;)</span><br><span class="line">        pEnd++;</span><br><span class="line">    pEnd--;</span><br><span class="line"></span><br><span class="line">    // 翻转整个句子</span><br><span class="line">    Reverse(pBegin, pEnd);</span><br><span class="line"></span><br><span class="line">    // 翻转句子中的每个单词</span><br><span class="line">    pBegin = pEnd = pData;</span><br><span class="line">    while (*pBegin != &apos;\0&apos;) &#123;</span><br><span class="line">        if (*pBegin == &apos; &apos;) &#123;</span><br><span class="line">            pBegin++;</span><br><span class="line">            pEnd++;</span><br><span class="line">        &#125; else if (*pEnd == &apos; &apos; || *pEnd == &apos;\0&apos;) &#123;</span><br><span class="line">            Reverse(pBegin, --pEnd);</span><br><span class="line">            pBegin = ++pEnd;</span><br><span class="line">        &#125; else</span><br><span class="line">            pEnd++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return pData;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="Andrew Chan">
            
              <p class="site-author-name" itemprop="name">Andrew Chan</p>
              <div class="site-description motion-element" itemprop="description">Personnal blogs</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">82</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Andrew Chan</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.0.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>




  

  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
